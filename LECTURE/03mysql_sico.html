<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸˆ @ì‹œì½” - MySQL ì œëŒ€ë¡œ ë°°ìš°ê¸° | nowgnuyheel</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script data-ad-client="ca-pub-5531898421123312" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-JC3NHMQ4D9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-JC3NHMQ4D9');
      </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    <meta name="description" content="mysql inflearn">
    <meta name="keywords" content="mysql inflearn">
    
    <link rel="preload" href="/assets/css/0.styles.4fa8e9ab.css" as="style"><link rel="preload" href="/assets/js/app.68345868.js" as="script"><link rel="preload" href="/assets/js/2.3668a181.js" as="script"><link rel="preload" href="/assets/js/3.30344c27.js" as="script"><link rel="preload" href="/assets/js/5.777b19a2.js" as="script"><link rel="preload" href="/assets/js/18.82b9bd8d.js" as="script"><link rel="prefetch" href="/assets/js/10.68947237.js"><link rel="prefetch" href="/assets/js/11.9a67ab98.js"><link rel="prefetch" href="/assets/js/12.3d5f0fa3.js"><link rel="prefetch" href="/assets/js/13.d24a21b5.js"><link rel="prefetch" href="/assets/js/14.ea821a34.js"><link rel="prefetch" href="/assets/js/15.ea720c10.js"><link rel="prefetch" href="/assets/js/16.32cad192.js"><link rel="prefetch" href="/assets/js/17.2d7def1e.js"><link rel="prefetch" href="/assets/js/19.2ef64b09.js"><link rel="prefetch" href="/assets/js/20.2df56b6a.js"><link rel="prefetch" href="/assets/js/21.e8a06e82.js"><link rel="prefetch" href="/assets/js/22.5d88789c.js"><link rel="prefetch" href="/assets/js/23.b2842538.js"><link rel="prefetch" href="/assets/js/24.e1ee8608.js"><link rel="prefetch" href="/assets/js/25.60cd3ada.js"><link rel="prefetch" href="/assets/js/26.734576ca.js"><link rel="prefetch" href="/assets/js/27.63f4242b.js"><link rel="prefetch" href="/assets/js/28.aad3db0c.js"><link rel="prefetch" href="/assets/js/29.6f2c44a7.js"><link rel="prefetch" href="/assets/js/30.160be669.js"><link rel="prefetch" href="/assets/js/31.e6973b4b.js"><link rel="prefetch" href="/assets/js/32.315fa004.js"><link rel="prefetch" href="/assets/js/33.38a06816.js"><link rel="prefetch" href="/assets/js/34.40c6d42f.js"><link rel="prefetch" href="/assets/js/35.e814da21.js"><link rel="prefetch" href="/assets/js/36.8c37d30e.js"><link rel="prefetch" href="/assets/js/37.92f03bfb.js"><link rel="prefetch" href="/assets/js/38.3876e9a5.js"><link rel="prefetch" href="/assets/js/39.d44b2204.js"><link rel="prefetch" href="/assets/js/4.e480eb03.js"><link rel="prefetch" href="/assets/js/40.295da141.js"><link rel="prefetch" href="/assets/js/41.3e09b896.js"><link rel="prefetch" href="/assets/js/42.57c99b4f.js"><link rel="prefetch" href="/assets/js/43.d623500c.js"><link rel="prefetch" href="/assets/js/44.8e4e0946.js"><link rel="prefetch" href="/assets/js/45.c97e8022.js"><link rel="prefetch" href="/assets/js/46.2494b4ac.js"><link rel="prefetch" href="/assets/js/47.322892ec.js"><link rel="prefetch" href="/assets/js/48.dc6239dd.js"><link rel="prefetch" href="/assets/js/49.ea77ea9a.js"><link rel="prefetch" href="/assets/js/50.c96402e6.js"><link rel="prefetch" href="/assets/js/51.3450d580.js"><link rel="prefetch" href="/assets/js/52.b5430bec.js"><link rel="prefetch" href="/assets/js/53.d7a816e1.js"><link rel="prefetch" href="/assets/js/54.9d371c34.js"><link rel="prefetch" href="/assets/js/55.d8ca11f4.js"><link rel="prefetch" href="/assets/js/56.ed060384.js"><link rel="prefetch" href="/assets/js/57.71aa3984.js"><link rel="prefetch" href="/assets/js/58.0cbecbff.js"><link rel="prefetch" href="/assets/js/59.57a1ed4c.js"><link rel="prefetch" href="/assets/js/6.4697616b.js"><link rel="prefetch" href="/assets/js/60.4f499bff.js"><link rel="prefetch" href="/assets/js/61.364ce793.js"><link rel="prefetch" href="/assets/js/62.593d8f8b.js"><link rel="prefetch" href="/assets/js/63.602a8e16.js"><link rel="prefetch" href="/assets/js/64.a4bf9bd1.js"><link rel="prefetch" href="/assets/js/65.6d50c69f.js"><link rel="prefetch" href="/assets/js/66.ca578dcb.js"><link rel="prefetch" href="/assets/js/67.74163dbd.js"><link rel="prefetch" href="/assets/js/68.37960725.js"><link rel="prefetch" href="/assets/js/69.3aa4f4bd.js"><link rel="prefetch" href="/assets/js/7.ea194a28.js"><link rel="prefetch" href="/assets/js/70.90c9f006.js"><link rel="prefetch" href="/assets/js/71.5abda249.js"><link rel="prefetch" href="/assets/js/72.27aa012d.js"><link rel="prefetch" href="/assets/js/73.33d9e0d9.js"><link rel="prefetch" href="/assets/js/74.bc596be3.js"><link rel="prefetch" href="/assets/js/75.c2abbd99.js"><link rel="prefetch" href="/assets/js/76.936112a6.js"><link rel="prefetch" href="/assets/js/8.897bb83f.js"><link rel="prefetch" href="/assets/js/9.76e86cc6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4fa8e9ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7d30aa43><header class="navbar" data-v-7d30aa43><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">nowgnuyheel</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/hueleev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7d30aa43></div> <aside class="sidebar" data-v-7d30aa43><nav class="nav-links"><div class="nav-item"><a href="https://github.com/hueleev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HOME</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm_BOJ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm_HackerRank</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm_Programmers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Baek-End</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Front-End</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JAVA_ëª¨ë˜ ìë°” ì¸ ì•¡ì…˜</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript_ES6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>LECTURE</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/LECTURE/01python_webscrapper.html" class="sidebar-link">ğŸˆ Pythonìœ¼ë¡œ ì›¹ ìŠ¤í¬ë˜í¼ ë§Œë“¤ê¸° (nomad coders/ë…¸ë§ˆë“œì½”ë”)</a></li><li><a href="/LECTURE/02typescript_typechain.html" class="sidebar-link">ğŸˆ Typescriptë¡œ ë¸”ë¡ì²´ì¸ ë§Œë“¤ê¸° (nomad coders/ë…¸ë§ˆë“œì½”ë”)</a></li><li><a href="/LECTURE/03mysql_sico.html" aria-current="page" class="active sidebar-link">ğŸˆ @ì‹œì½” - MySQL ì œëŒ€ë¡œ ë°°ìš°ê¸°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#mysql-á„‰á…¡á„‹á…­á†¼á„Œá…¡" class="sidebar-link">Mysql ì‚¬ìš©ì</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#database-á„‰á…¢á†¼á„‰á…¥á†¼" class="sidebar-link">database ìƒì„±</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#mysql-workbench-á„‹á…§á†«á„€á…§á†¯" class="sidebar-link">mysql workbench ì—°ê²°</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#table-á„‰á…¢á†¼á„‰á…¥á†¼" class="sidebar-link">table ìƒì„±</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#select-insert" class="sidebar-link">select/insert</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#inner-join" class="sidebar-link">inner join</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#function-á„‰á…¢á†¼á„‰á…¥á†¼" class="sidebar-link">function ìƒì„±</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#procedure" class="sidebar-link">Procedure</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#group-by" class="sidebar-link">group by</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#table-á„Œá…¥á†¼á„‡á…©" class="sidebar-link">table ì •ë³´</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#table-á„‡á…©á†¨á„Œá…¦" class="sidebar-link">table ë³µì œ</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#table-á„‰á…®á„Œá…¥á†¼" class="sidebar-link">table ìˆ˜ì •</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#tcl-commit-rollback" class="sidebar-link">TCL: Commit &amp; Rollback</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#view" class="sidebar-link">View</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#trigger" class="sidebar-link">Trigger</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#union" class="sidebar-link">UNION</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#rownum" class="sidebar-link">@rownum</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#procudure-out-á„á…®á†¯á„…á…§á†¨-into-á„‰á…¡á„‹á…­á†¼" class="sidebar-link">Procudure - OUT ì¶œë ¥ | into ì‚¬ìš©</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#prepare" class="sidebar-link">Prepare</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#cursor" class="sidebar-link">Cursor</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#exception-handling" class="sidebar-link">Exception Handling</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#with-cte" class="sidebar-link">WITH CTE</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#á„Œá…¢á„€á…±-cte" class="sidebar-link">ì¬ê·€ CTE</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#á„‹á…±á†«á„ƒá…©á„‹á…®-á„’á…¡á†·á„‰á…®" class="sidebar-link">ìœˆë„ìš° í•¨ìˆ˜</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#json-á„ƒá…¦á„‹á…µá„á…¥-á„ƒá…¡á„…á…®á„€á…µ" class="sidebar-link">JSON ë°ì´í„° ë‹¤ë£¨ê¸°</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#rollup" class="sidebar-link">rollup</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#pivot" class="sidebar-link">pivot</a></li><li class="sidebar-sub-header"><a href="/LECTURE/03mysql_sico.html#reference" class="sidebar-link">Reference</a></li></ul></li><li><a href="/LECTURE/04c_nadocoding.html" class="sidebar-link">ğŸˆ C í”„ë¡œê·¸ë˜ë° - ì…ë¬¸ë¶€í„° ê²Œì„ ê°œë°œê¹Œì§€ (inflearn)</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PROJECT</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VuePress_ê°œë°œë¸”ë¡œê·¸ ìƒì„±ê¸°</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page" data-v-7d30aa43> <div class="theme-default-content content__default"><h1 id="ğŸˆ-á„‰á…µá„á…©-mysql-á„Œá…¦á„ƒá…¢á„…á…©-á„‡á…¢á„‹á…®á„€á…µ-inflearn"><a href="#ğŸˆ-á„‰á…µá„á…©-mysql-á„Œá…¦á„ƒá…¢á„…á…©-á„‡á…¢á„‹á…®á„€á…µ-inflearn" class="header-anchor">#</a> ğŸˆ @ì‹œì½” - MySQL ì œëŒ€ë¡œ ë°°ìš°ê¸° (inflearn)</h1> <p>ìš°ì„  <code>mysql</code> 8ë²„ì „ì„ <a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">ì„¤ì¹˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>í•´ì£¼ê³ , ì„¤ì¹˜ ê³¼ì •ì—ì„œ <code>custom</code> ì„ ì„ íƒí•˜ì—¬ <code>workbench</code>ê¹Œì§€ 8ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•´ì¤€ë‹¤.</p> <h2 id="mysql-á„‰á…¡á„‹á…­á†¼á„Œá…¡"><a href="#mysql-á„‰á…¡á„‹á…­á†¼á„Œá…¡" class="header-anchor">#</a> Mysql ì‚¬ìš©ì</h2> <h3 id="mysql-á„Œá…¥á†¸á„‰á…©á†¨"><a href="#mysql-á„Œá…¥á†¸á„‰á…©á†¨" class="header-anchor">#</a> mysql ì ‘ì†</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>C:\Users\ê´€ë¦¬ì<span class="token operator">&gt;</span>mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p
Enter password: <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
Welcome <span class="token keyword">to</span> the MySQL monitor<span class="token punctuation">.</span>  Commands <span class="token keyword">end</span> <span class="token keyword">with</span> <span class="token punctuation">;</span> <span class="token operator">or</span> \g<span class="token punctuation">.</span>
Your MySQL connection id <span class="token operator">is</span> <span class="token number">34</span>
Server version: <span class="token number">8.0</span><span class="token number">.29</span> MySQL Community Server <span class="token operator">-</span> GPL

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2022</span><span class="token punctuation">,</span> Oracle <span class="token operator">and</span><span class="token operator">/</span><span class="token operator">or</span> its affiliates<span class="token punctuation">.</span>
</code></pre></div><h3 id="á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„Œá…©á„’á…¬"><a href="#á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„Œá…©á„’á…¬" class="header-anchor">#</a> ì‚¬ìš©ì ì¡°íšŒ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> mysql<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token keyword">user</span><span class="token punctuation">,</span> host <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------+-----------+</span>
<span class="token operator">|</span> <span class="token keyword">user</span>             <span class="token operator">|</span> host      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+-----------+</span>
<span class="token operator">|</span> mysql<span class="token punctuation">.</span>infoschema <span class="token operator">|</span> localhost <span class="token operator">|</span>
<span class="token operator">|</span> mysql<span class="token punctuation">.</span><span class="token keyword">session</span>    <span class="token operator">|</span> localhost <span class="token operator">|</span>
<span class="token operator">|</span> mysql<span class="token punctuation">.</span>sys        <span class="token operator">|</span> localhost <span class="token operator">|</span>
<span class="token operator">|</span> root             <span class="token operator">|</span> localhost <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+-----------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„á…®á„€á…¡-á„€á…¯á†«á„’á…¡á†«á„‡á…®á„‹á…§"><a href="#á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„á…®á„€á…¡-á„€á…¯á†«á„’á…¡á†«á„‡á…®á„‹á…§" class="header-anchor">#</a> ì‚¬ìš©ì ì¶”ê°€/ê¶Œí•œë¶€ì—¬</h3> <p><b>create user</b><br> <code>mysql&gt; create user &lt;user-name&gt;@'&lt;host&gt;' identified by '&lt;password&gt;';</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">'test1234'</span><span class="token variable">@'localhost'</span> identified <span class="token keyword">by</span> <span class="token string">'test1234'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span> <span class="token keyword">on</span> test_database<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> test<span class="token variable">@'localhost'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><p><b>grant</b></p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span> <span class="token keyword">on</span> test_database<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> test_grant<span class="token variable">@'localhost'</span> identified <span class="token keyword">by</span> <span class="token string">'test1234'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><p><b><code>localhost</code>ëŒ€ì‹ ì— <code>%</code>ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì™¸ë¶€ì—ì„œë„ ì ‘ì† ê°€ëŠ¥í•˜ë‹¤</b></p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span> <span class="token keyword">on</span> test_database<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> test_grant<span class="token variable">@'%'</span> identified <span class="token keyword">by</span> <span class="token string">'test1234'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre></div><p><b><u>ì ìš©í•˜ê¸° í•„ìˆ˜ !</u></b></p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="á„‡á…µá„†á…µá†¯á„‡á…¥á†«á„’á…©-á„‡á…§á†«á„€á…§á†¼"><a href="#á„‡á…µá„†á…µá†¯á„‡á…¥á†«á„’á…©-á„‡á…§á†«á„€á…§á†¼" class="header-anchor">#</a> ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> mysql<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> password<span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span><span class="token string">'ë³€ê²½í•  ë¹„ë°€ë²ˆí˜¸'</span><span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">'ì‚¬ìš©ìì´ë¦„'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">1</span>  Changed: <span class="token number">1</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„‰á…¡á†¨á„Œá…¦"><a href="#á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„‰á…¡á†¨á„Œá…¦" class="header-anchor">#</a> ì‚¬ìš©ì ì‚­ì œ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">'USER_ID'</span><span class="token punctuation">;</span> 
mysql<span class="token operator">&gt;</span> flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">'test'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token keyword">user</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">'test_grant'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="database-á„‰á…¢á†¼á„‰á…¥á†¼"><a href="#database-á„‰á…¢á†¼á„‰á…¥á†¼" class="header-anchor">#</a> database ìƒì„±</h2> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token keyword">Database</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> information_schema <span class="token operator">|</span>
<span class="token operator">|</span> mysql              <span class="token operator">|</span>
<span class="token operator">|</span> performance_schema <span class="token operator">|</span>
<span class="token operator">|</span> sys                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">database</span> testdb<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token keyword">Database</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> information_schema <span class="token operator">|</span>
<span class="token operator">|</span> mysql              <span class="token operator">|</span>
<span class="token operator">|</span> performance_schema <span class="token operator">|</span>
<span class="token operator">|</span> sys                <span class="token operator">|</span>
<span class="token operator">|</span> testdb             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="mysql-workbench-á„‹á…§á†«á„€á…§á†¯"><a href="#mysql-workbench-á„‹á…§á†«á„€á…§á†¯" class="header-anchor">#</a> mysql workbench ì—°ê²°</h2> <p><img src="/assets/img/01.a67e8776.png" alt="vuepress"><br> <img src="/assets/img/02.25f0d2cf.png" alt="vuepress"><br> <img src="data:image/png;base64,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" alt="vuepress"></p> <h2 id="table-á„‰á…¢á†¼á„‰á…¥á†¼"><a href="#table-á„‰á…¢á†¼á„‰á…¥á†¼" class="header-anchor">#</a> table ìƒì„±</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#ë¶€ì„œ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> Dept<span class="token punctuation">(</span>
	id <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    pid <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span> <span class="token keyword">comment</span> <span class="token string">'ìƒìœ„ë¶€ì„œid'</span><span class="token punctuation">,</span>
    dname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#ì§ì›</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> Emp<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    ename <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    dept <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    salary <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span> <span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>dept<span class="token punctuation">)</span> <span class="token keyword">references</span> Dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><b><code>workbench</code>ì—ì„œ <code>refresh</code>í•´ì¤˜ì•¼ ìƒì„±ëœ í…Œì´ë¸” ì¡°íšŒ ê°€ëŠ¥</b></p> <p><img src="/assets/img/04.f1b9e9e8.png" alt="vuepress"></p> <div class="custom-block tip"><p class="custom-block-title">unsigned</p> <p>ëª¨ë“  Integeríƒ€ì…ë“¤ì€ <code>UNSIGNED</code>ë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p> <p>í•´ë‹¹ ì»¬ëŸ¼ì´ <b>ìŒìˆ˜ê°€ ì ˆëŒ€ ë  ì¼ì´ ì—†ëŠ” ê²½ìš°,</b> (auto-incrementë¡œ primary keyë¥¼ ì¡ì„ ë•Œì™€ ê°™ì´) ìˆ˜ì˜ ë²”ìœ„ê°€ ì–‘ìˆ˜ ìª½ìœ¼ë¡œ ë” ë„“ìœ¼ë©´ ì¢‹ì„ ê²ƒì´ë‹¤.<br>
ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²Œ <code>unsigned</code>íƒ€ì…ì´ë‹¤.</p> <ul><li><code>unsigned</code> ì•„ë‹ ë•Œ: <code>-2147483648 ~ 2147483647</code></li> <li><code>unsigned</code> ì¼ ë•Œ:  <code>0 ~ 4294967295</code></li></ul></div> <h2 id="select-insert"><a href="#select-insert" class="header-anchor">#</a> select/insert</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#ìƒìœ„ë¶€ì„œ</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Dept<span class="token punctuation">(</span>pid<span class="token punctuation">,</span> dname<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'ì˜ì—…ë¶€'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'ê°œë°œë¶€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#í•˜ìœ„ë¶€ì„œ</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Dept<span class="token punctuation">(</span>pid<span class="token punctuation">,</span> dname<span class="token punctuation">)</span> 
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'ì˜ì—…1íŒ€'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'ì˜ì—…2íŒ€'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'ì˜ì—…3íŒ€'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'ì„œë²„íŒ€'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'í´ë¼ì´ì–¸íŠ¸íŒ€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="inner-join"><a href="#inner-join" class="header-anchor">#</a> inner join</h2> <h3 id="á„Œá…¥á†«á„á…¦á„Œá…©á„’á…¬"><a href="#á„Œá…¥á†«á„á…¦á„Œá…©á„’á…¬" class="header-anchor">#</a> ì „ì²´ì¡°íšŒ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pid <span class="token operator">|</span> dname        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> ì˜ì—…ë¶€       <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> ê°œë°œë¶€       <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€      <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€      <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€      <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> ì„œë²„íŒ€       <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> í´ë¼ì´ì–¸íŠ¸íŒ€ <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----+--------------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="á„’á…¡á„‹á…±-á„‡á…®á„‰á…¥-á„Œá…©á„’á…¬"><a href="#á„’á…¡á„‹á…±-á„‡á…®á„‰á…¥-á„Œá…©á„’á…¬" class="header-anchor">#</a> í•˜ìœ„ ë¶€ì„œ ì¡°íšŒ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> d1<span class="token punctuation">.</span>dname <span class="token keyword">as</span> <span class="token string">'ìƒìœ„ë¶€ì„œ'</span><span class="token punctuation">,</span> d2<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> Dept d1 <span class="token keyword">inner</span> <span class="token keyword">join</span> Dept d2 <span class="token keyword">on</span> d1<span class="token punctuation">.</span>id <span class="token operator">=</span> d2<span class="token punctuation">.</span>pid<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+----+-----+--------------+</span>
<span class="token operator">|</span> ìƒìœ„ë¶€ì„œ <span class="token operator">|</span> id <span class="token operator">|</span> pid <span class="token operator">|</span> dname        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+----+-----+--------------+</span>
<span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€      <span class="token operator">|</span>
<span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€      <span class="token operator">|</span>
<span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€      <span class="token operator">|</span>
<span class="token operator">|</span> ê°œë°œë¶€   <span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> ì„œë²„íŒ€       <span class="token operator">|</span>
<span class="token operator">|</span> ê°œë°œë¶€   <span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> í´ë¼ì´ì–¸íŠ¸íŒ€ <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+----+-----+--------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">rand()</p> <ul><li>0ê³¼ 1 ì‚¬ì´ì˜ ë‚œìˆ˜ ë°œìƒ</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token number">0.3301079471875987</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><ul><li>0~10 ì‚¬ì´ì˜ ë‚œìˆ˜ í•˜ì—¬ ì˜¬ë¦¼ì²˜ë¦¬ (0ì´ ë‚˜ì˜¤ì§€ ì•Šê²Œ ì˜¬ë¦¼ìœ¼ë¡œ ì²˜ë¦¬)</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> CEIL<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------+</span>
<span class="token operator">|</span> CEIL<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------+</span>
<span class="token operator">|</span>                 <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div></div> <h2 id="function-á„‰á…¢á†¼á„‰á…¥á†¼"><a href="#function-á„‰á…¢á†¼á„‰á…¥á†¼" class="header-anchor">#</a> function ìƒì„±</h2> <p><img src="/assets/img/05.d979a086.png" alt="vuepress"><br> <img src="/assets/img/06.a376a0a1.png" alt="vuepress"></p> <div class="custom-block tip"><p class="custom-block-title">function ìƒì„± ì•ˆ ë˜ëŠ” ê²½ìš°</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span>  log_bin_trust_function_creators<span class="token operator">=</span><span class="token keyword">ON</span><span class="token punctuation">;</span>
</code></pre></div></div> <h3 id="_1-á„’á…¡á†«á„€á…³á†¯á„Œá…¡á„…á…³á†¯-á„…á…¢á†«á„ƒá…¥á†·á„‹á…³á„…á…©-á„‡á…¡á†«á„’á…ªá†«á„’á…¡á„‚á…³á†«-á„’á…¡á†·á„‰á…®á„…á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥á„‡á…©á„Œá…¡"><a href="#_1-á„’á…¡á†«á„€á…³á†¯á„Œá…¡á„…á…³á†¯-á„…á…¢á†«á„ƒá…¥á†·á„‹á…³á„…á…©-á„‡á…¡á†«á„’á…ªá†«á„’á…¡á„‚á…³á†«-á„’á…¡á†·á„‰á…®á„…á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥á„‡á…©á„Œá…¡" class="header-anchor">#</a> 1. í•œê¸€ìë¥¼ ëœë¤ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë³´ì.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> <span class="token punctuation">`</span>f_rand1<span class="token punctuation">`</span> <span class="token punctuation">(</span>_str <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- ë§¤ê°œë³€ìˆ˜ëŠ” _</span>
<span class="token keyword">RETURNS</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">declare</span> v_ret <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ë³€ìˆ˜ëŠ” v_</span>
    <span class="token keyword">declare</span> v_len <span class="token keyword">tinyint</span><span class="token punctuation">;</span>
    
    <span class="token keyword">set</span> v_len <span class="token operator">=</span> char_length<span class="token punctuation">(</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- í•œê¸€ì€ 3ë°”ì´íŠ¸ì´ë¯€ë¡œ char_lengthí•˜ë©´ ê¸€ììˆ˜ëŒ€ë¡œ ê¸¸ì´ ë°˜í™˜</span>
    <span class="token keyword">set</span> v_ret <span class="token operator">=</span> substring<span class="token punctuation">(</span>_str<span class="token punctuation">,</span> CEIL<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> v_len<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- ë‹¨ì–´ì—ì„œ 1ê¸€ìë§Œ ëœë¤ìœ¼ë¡œ ë°˜í™˜</span>
<span class="token keyword">RETURN</span> v_ret<span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> f_rand1<span class="token punctuation">(</span><span class="token string">'ê¹€ì´ë°•'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------+</span>
<span class="token operator">|</span> f_rand1<span class="token punctuation">(</span><span class="token string">'ê¹€ì´ë°•'</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------+</span>
<span class="token operator">|</span> ê¹€                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> f_rand1<span class="token punctuation">(</span><span class="token string">'1234567'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> f_rand1<span class="token punctuation">(</span><span class="token string">'1234567'</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token number">7</span>                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> f_rand1<span class="token punctuation">(</span><span class="token string">'1234567'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> f_rand1<span class="token punctuation">(</span><span class="token string">'1234567'</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token number">3</span>                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-f-rand1á„’á…¡á†·á„‰á…®á„…á…³á†¯-á„’á…ªá†¯á„‹á…­á†¼á„’á…¢á„‰á…¥-á„‹á…µá„…á…³á†·á„‹á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥á„Œá…®á„‚á…³á†«-á„’á…¡á†·á„‰á…®á„…á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥á„‡á…©á„Œá…¡"><a href="#_2-f-rand1á„’á…¡á†·á„‰á…®á„…á…³á†¯-á„’á…ªá†¯á„‹á…­á†¼á„’á…¢á„‰á…¥-á„‹á…µá„…á…³á†·á„‹á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥á„Œá…®á„‚á…³á†«-á„’á…¡á†·á„‰á…®á„…á…³á†¯-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥á„‡á…©á„Œá…¡" class="header-anchor">#</a> 2. <code>f_rand1</code>í•¨ìˆ˜ë¥¼ í™œìš©í•´ì„œ ì´ë¦„ì„ ë§Œë“¤ì–´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë³´ì.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> <span class="token punctuation">`</span>f_randname<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">RETURNS</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">declare</span> v_ret <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">declare</span> v_lasts <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">'ê¹€ì´ë°•ì¡°ìµœì „ì²œë°©ì§€ë§ˆìœ ë°°ì›'</span><span class="token punctuation">;</span> <span class="token comment">-- ì„±</span>
    <span class="token keyword">declare</span> v_firsts <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">'ìˆœì‹ ì„¸ì¢…ì„±í˜¸ì§€í˜œê°€ì€ì„¸í˜¸ë¯¼êµ­ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ì•„ìì°¨ê²°ì°¬'</span><span class="token punctuation">;</span> <span class="token comment">-- ì´ë¦„</span>
    
    <span class="token keyword">set</span> v_ret <span class="token operator">=</span> concat<span class="token punctuation">(</span>f_rand1<span class="token punctuation">(</span>v_lasts<span class="token punctuation">)</span><span class="token punctuation">,</span> f_rand1<span class="token punctuation">(</span>v_firsts<span class="token punctuation">)</span><span class="token punctuation">,</span> f_rand1<span class="token punctuation">(</span>v_firsts<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">RETURN</span> v_ret<span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> f_randname<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> f_randname<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> ìœ ê²°ì€       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> f_randname<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> f_randname<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> ì›ë‹¤í˜¸       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="procedure"><a href="#procedure" class="header-anchor">#</a> Procedure</h2> <h3 id="á„‹á…§á„…á…¥á„†á…§á†¼á„‹á…´-á„Œá…µá†¨á„‹á…¯á†«á„‹á…³á†¯-á„‘á…³á„…á…©á„‰á…µá„Œá…¥á„…á…©-á„‚á…¥á‡‚á„‹á…¥á„‡á…©á„Œá…¡"><a href="#á„‹á…§á„…á…¥á„†á…§á†¼á„‹á…´-á„Œá…µá†¨á„‹á…¯á†«á„‹á…³á†¯-á„‘á…³á„…á…©á„‰á…µá„Œá…¥á„…á…©-á„‚á…¥á‡‚á„‹á…¥á„‡á…©á„Œá…¡" class="header-anchor">#</a> ì—¬ëŸ¬ëª…ì˜ ì§ì›ì„ í”„ë¡œì‹œì €ë¡œ ë„£ì–´ë³´ì.</h3> <p><img src="/assets/img/07.2406fbab.png" alt="vuepress"></p> <p>í•˜ìœ„ë¶€ì„œì— ì†í•˜ê¸° ìœ„í•´</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> <span class="token punctuation">`</span>sp_test_emp<span class="token punctuation">`</span> <span class="token punctuation">(</span>_cnt <span class="token keyword">int</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">declare</span> v_idx <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> v_idx <span class="token operator">&lt;</span> _cnt
    <span class="token keyword">do</span>
        <span class="token comment">-- í•˜ìœ„ë¶€ì„œì— ì†í•˜ê¸° ìœ„ì— '34567', ê¸‰ì—¬ëŠ” *100í•˜ì—¬ `100~900`ê¹Œì§€</span>
		<span class="token keyword">insert</span> <span class="token keyword">into</span> Emp<span class="token punctuation">(</span>ename<span class="token punctuation">,</span> dept<span class="token punctuation">,</span> salary<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span>f_randname<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f_rand1<span class="token punctuation">(</span><span class="token string">'34567'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f_rand1<span class="token punctuation">(</span><span class="token string">'123456789'</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        <span class="token keyword">set</span> v_idx <span class="token operator">=</span> v_idx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span> <span class="token keyword">while</span><span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">call</span> sp_test_emp<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> ename  <span class="token operator">|</span> dept <span class="token operator">|</span> salary <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> ì „ì°¨ì¢… <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> ë§ˆë¯¼ì¢… <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> ì¡°ìë¼ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">500</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> ìµœí˜¸ìˆœ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> ì¡°ì„¸í˜¸ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> ìµœêµ­ì„¸ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> ì¡°ì°¨ë§ˆ <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">500</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> ë°©ì„¸ì§€ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> ì „ê²°ì€ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> ì´ì„¸ì‚¬ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">11</span> <span class="token operator">|</span> ì²œë°”ê°€ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">300</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> ìœ í˜œì¢… <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+</span>
<span class="token number">12</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="group-by"><a href="#group-by" class="header-anchor">#</a> group by</h2> <h3 id="á„‡á…®á„‰á…¥á„‡á…§á†¯-á„Œá…µá†¨á„‹á…¯á†«-á„‰á…®-á„Œá…©á„’á…¬"><a href="#á„‡á…®á„‰á…¥á„‡á…§á†¯-á„Œá…µá†¨á„‹á…¯á†«-á„‰á…®-á„Œá…©á„’á…¬" class="header-anchor">#</a> ë¶€ì„œë³„ ì§ì› ìˆ˜ ì¡°íšŒ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> dept<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> Emp <span class="token keyword">group</span> <span class="token keyword">by</span> dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+----------+</span>
<span class="token operator">|</span> dept <span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+----------+</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>       <span class="token number">62</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>       <span class="token number">47</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>       <span class="token number">47</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>       <span class="token number">55</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>       <span class="token number">51</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+----------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="table-á„Œá…¥á†¼á„‡á…©"><a href="#table-á„Œá…¥á†¼á„‡á…©" class="header-anchor">#</a> table ì •ë³´</h2> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> Dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+------------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field <span class="token operator">|</span> <span class="token keyword">Type</span>             <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id    <span class="token operator">|</span> <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> pid   <span class="token operator">|</span> <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> dname <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------------+------+-----+---------+----------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> Dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> <span class="token keyword">Table</span> <span class="token operator">|</span> <span class="token keyword">Create</span> <span class="token keyword">Table</span>                                                                                                                                                                                                                                                                        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> Dept  <span class="token operator">|</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pid<span class="token punctuation">`</span> <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'ìƒìœ„ë¶€ì„œid'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>dname<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">8</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">index</span> <span class="token keyword">from</span> Dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+</span>
<span class="token operator">|</span> <span class="token keyword">Table</span> <span class="token operator">|</span> Non_unique <span class="token operator">|</span> Key_name <span class="token operator">|</span> Seq_in_index <span class="token operator">|</span> Column_name <span class="token operator">|</span> Collation <span class="token operator">|</span> Cardinality <span class="token operator">|</span> Sub_part <span class="token operator">|</span> Packed <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> Index_type <span class="token operator">|</span> <span class="token keyword">Comment</span> <span class="token operator">|</span> Index_comment <span class="token operator">|</span> Visible <span class="token operator">|</span> Expression <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+</span>
<span class="token operator">|</span> dept  <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>  <span class="token operator">|</span>            <span class="token number">1</span> <span class="token operator">|</span> id          <span class="token operator">|</span> A         <span class="token operator">|</span>           <span class="token number">0</span> <span class="token operator">|</span>     <span class="token boolean">NULL</span> <span class="token operator">|</span>   <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token keyword">BTREE</span>      <span class="token operator">|</span>         <span class="token operator">|</span>               <span class="token operator">|</span> YES     <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">index</span> <span class="token keyword">from</span> Emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+</span>
<span class="token operator">|</span> <span class="token keyword">Table</span> <span class="token operator">|</span> Non_unique <span class="token operator">|</span> Key_name <span class="token operator">|</span> Seq_in_index <span class="token operator">|</span> Column_name <span class="token operator">|</span> Collation <span class="token operator">|</span> Cardinality <span class="token operator">|</span> Sub_part <span class="token operator">|</span> Packed <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> Index_type <span class="token operator">|</span> <span class="token keyword">Comment</span> <span class="token operator">|</span> Index_comment <span class="token operator">|</span> Visible <span class="token operator">|</span> Expression <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+</span>
<span class="token operator">|</span> emp   <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>  <span class="token operator">|</span>            <span class="token number">1</span> <span class="token operator">|</span> id          <span class="token operator">|</span> A         <span class="token operator">|</span>           <span class="token number">0</span> <span class="token operator">|</span>     <span class="token boolean">NULL</span> <span class="token operator">|</span>   <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token keyword">BTREE</span>      <span class="token operator">|</span>         <span class="token operator">|</span>               <span class="token operator">|</span> YES     <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span>
<span class="token operator">|</span> emp   <span class="token operator">|</span>          <span class="token number">1</span> <span class="token operator">|</span> dept     <span class="token operator">|</span>            <span class="token number">1</span> <span class="token operator">|</span> dept        <span class="token operator">|</span> A         <span class="token operator">|</span>           <span class="token number">0</span> <span class="token operator">|</span>     <span class="token boolean">NULL</span> <span class="token operator">|</span>   <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token keyword">BTREE</span>      <span class="token operator">|</span>         <span class="token operator">|</span>               <span class="token operator">|</span> YES     <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="table-á„‡á…©á†¨á„Œá…¦"><a href="#table-á„‡á…©á†¨á„Œá…¦" class="header-anchor">#</a> table ë³µì œ</h2> <h3 id="á„ƒá…¦á„‹á…µá„á…¥á„ˆá…¢á„€á…©-á„€á…®á„Œá…©á„†á…¡á†«-á„‡á…©á†¨á„Œá…¦"><a href="#á„ƒá…¦á„‹á…µá„á…¥á„ˆá…¢á„€á…©-á„€á…®á„Œá…©á„†á…¡á†«-á„‡á…©á†¨á„Œá…¦" class="header-anchor">#</a> ë°ì´í„°ë¹¼ê³  êµ¬ì¡°ë§Œ ë³µì œ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> Dept2 <span class="token operator">like</span> Dpet<span class="token punctuation">;</span>
</code></pre></div><h3 id="á„ƒá…¦á„‹á…µá„á…¥á„á…¡á„Œá…µ-á„‡á…©á†¨á„Œá…¦"><a href="#á„ƒá…¦á„‹á…µá„á…¥á„á…¡á„Œá…µ-á„‡á…©á†¨á„Œá…¦" class="header-anchor">#</a> ë°ì´í„°ê¹Œì§€ ë³µì œ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> Dept3 <span class="token keyword">AS</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Dept<span class="token punctuation">;</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p><b>index</b>ëŠ” ì„¤ì •ë˜ì§€ ì•ŠëŠ”ë‹¤..!<br>
foriegn keyì™€ ê°™ì€ ì„¤ì •ì€ ë³µì œë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë”°ë¡œ ì„¤ì •í•´ì£¼ì–´ì•¼ í•¨.</p></div> <h2 id="table-á„‰á…®á„Œá…¥á†¼"><a href="#table-á„‰á…®á„Œá…¥á†¼" class="header-anchor">#</a> table ìˆ˜ì •</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- on update: ë°ì´í„° ìˆ˜ì •ëì„ë•Œ current_timestamp ì—…ë°ì´íŠ¸</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> Dept <span class="token keyword">add</span> <span class="token keyword">column</span> workdate <span class="token keyword">timestamp</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token keyword">current_timestamp</span> <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">current_timestamp</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pid <span class="token operator">|</span> dname   <span class="token operator">|</span> workdate            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> ì˜ì—…ë¶€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">14</span>:<span class="token number">17</span>:<span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> ê°œë°œë¶€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">14</span>:<span class="token number">17</span>:<span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">14</span>:<span class="token number">17</span>:<span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">14</span>:<span class="token number">17</span>:<span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">14</span>:<span class="token number">17</span>:<span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> ì„œë²„íŒ€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">14</span>:<span class="token number">17</span>:<span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> í´ë¼íŒ€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">14</span>:<span class="token number">18</span>:<span class="token number">06</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="á„‹á…¡á„…á…¢á„‹á…ª-á„€á…¡á‡€á„‹á…µ-blocká„á…¥á„…á…µá„’á…¢á„‰á…¥-á„‰á…®á„Œá…¥á†¼á„’á…¡á„‚á…³á†«-á„‹á…§á†«á„‰á…³á†¸á„’á…¡á„€á…µ"><a href="#á„‹á…¡á„…á…¢á„‹á…ª-á„€á…¡á‡€á„‹á…µ-blocká„á…¥á„…á…µá„’á…¢á„‰á…¥-á„‰á…®á„Œá…¥á†¼á„’á…¡á„‚á…³á†«-á„‹á…§á†«á„‰á…³á†¸á„’á…¡á„€á…µ" class="header-anchor">#</a> ì•„ë˜ì™€ ê°™ì´ blockì²˜ë¦¬í•´ì„œ ìˆ˜ì •í•˜ëŠ” ì—°ìŠµí•˜ê¸°</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Dept
<span class="token comment">-- update Dept set dname='í´ë¼íŒ€'</span>
<span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="truncate-á„€á…ª-delete-á„á…¡á„‹á…µ"><a href="#truncate-á„€á…ª-delete-á„á…¡á„‹á…µ" class="header-anchor">#</a> truncate ê³¼ delete ì°¨ì´</h3> <p><code>truncate</code>ì€ í…Œì´ë¸”ì„ ì§€ì› ë‹¤ê°€ ë‹¤ì‹œ ìƒì„±í•˜ëŠ” ê±°ë‚˜ ë‹¤ë¦„ ì—†ë‹¤. auto_incrementê°€ 1ë¶€í„° ë‹¤ì‹œ ì‹œì‘í•œë‹¤.</p> <p><code>delete</code>í•´ì„œ ëª¨ë“  ë°ì´í„°ë¥¼ ì§€ìš°ë©´ auto_incrementê°€ ì´ì „ ê°’ì—ì„œ +1 ëœë‹¤.</p> <h2 id="tcl-commit-rollback"><a href="#tcl-commit-rollback" class="header-anchor">#</a> TCL: Commit &amp; Rollback</h2> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>Session ë‹¨ìœ„ë¡œ TxëŠ” ì œì–´ë¨.</p></div> <h3 id="autocommit-á„’á…ªá†¨á„‹á…µá†«"><a href="#autocommit-á„’á…ªá†¨á„‹á…µá†«" class="header-anchor">#</a> autocommit í™•ì¸</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> @<span class="token variable">@autocommit</span><span class="token punctuation">;</span>
<span class="token comment">-- ë³€ê²½í•˜ëŠ” ë°©ë²• SET AUTOCOMMIT = FALSE; </span>
</code></pre></div><h3 id="á„‹á…§á„…á…¥á„€á…¡á„Œá…µ-á„Œá…¡á†¨á„‹á…¥á†¸á„‹á…³á†¯-á„’á…¡á†¯-á„„á…¢-á„‡á…®á†¯á„‹á…¡á†«á„’á…¡á†«-á„€á…§á†¼á„‹á…®-transcationá„‹á…³á„…á…©-á„Œá…¡á†¨á„‹á…¥á†¸á„’á…¢á„Œá…®á†«á„ƒá…¡"><a href="#á„‹á…§á„…á…¥á„€á…¡á„Œá…µ-á„Œá…¡á†¨á„‹á…¥á†¸á„‹á…³á†¯-á„’á…¡á†¯-á„„á…¢-á„‡á…®á†¯á„‹á…¡á†«á„’á…¡á†«-á„€á…§á†¼á„‹á…®-transcationá„‹á…³á„…á…©-á„Œá…¡á†¨á„‹á…¥á†¸á„’á…¢á„Œá…®á†«á„ƒá…¡" class="header-anchor">#</a> ì—¬ëŸ¬ê°€ì§€ ì‘ì—…ì„ í•  ë•Œ, ë¶ˆì•ˆí•œ ê²½ìš° <code>transcation</code>ìœ¼ë¡œ ì‘ì—…í•´ì¤€ë‹¤.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span> <span class="token comment">-- transaction ì‹œì‘</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Dept <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> Dept <span class="token keyword">set</span> dname<span class="token operator">=</span><span class="token string">'ì˜ì—…111'</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span> <span class="token comment">-- ì ìš©í•˜ê³ í”ˆ ê²½ìš°,</span>
<span class="token keyword">rollback</span><span class="token punctuation">;</span> <span class="token comment">-- ì·¨ì†Œí•˜ê³ í”ˆ ê²½ìš°,</span>
</code></pre></div><h3 id="savepoint"><a href="#savepoint" class="header-anchor">#</a> savepoint</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span> <span class="token comment">-- transaction ì‹œì‘</span>

<span class="token keyword">savepoint</span> sp1<span class="token punctuation">;</span> <span class="token comment">-- savepoint1 ì‹œì‘</span>
<span class="token keyword">update</span> Dept <span class="token keyword">set</span> dname<span class="token operator">=</span><span class="token string">'ì˜ì—…111'</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">savepoint</span> sp2<span class="token punctuation">;</span> <span class="token comment">-- savepoint2 ì‹œì‘</span>
<span class="token keyword">update</span> Dept <span class="token keyword">set</span> dname<span class="token operator">=</span><span class="token string">'ê°œë°œ111'</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token keyword">rollback</span> <span class="token keyword">to</span> <span class="token keyword">savepoint</span> sp2<span class="token punctuation">;</span> <span class="token comment">--sp2 ë§Œ ë¡¤ë°±</span>

<span class="token keyword">commit</span><span class="token punctuation">;</span> <span class="token comment">-- ì ìš© (sp1ë§Œ ì ìš©ë¨)</span>
</code></pre></div><h2 id="view"><a href="#view" class="header-anchor">#</a> View</h2> <div class="custom-block tip"><p class="custom-block-title">Viewë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ </p> <ul><li><p>Security</p> <p>ë³´ì•ˆì„ ìœ„í•´ì„œ <code>view</code>ë¥¼ ë§ì´ ì“´ë‹¤. í…Œì´ë¸” í…Œì´í„°ë¥¼ ìˆ˜ì •í•˜ì§€ ëª»í•˜ë„ë¡, ì‚¬ìš©ì ì ‘ê·¼ ê¶Œí•œì„ <code>view</code> ì¡°íšŒë§Œ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.</p></li> <li><p>Simplicity</p> <p>ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë‹¨ìˆœí•˜ê²Œ í•´ì¤€ë‹¤.</p></li> <li><p>Performance</p> <p>ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì´ ì¤„ì–´ë“¤ê³ , ì»´íŒŒì¼í•˜ëŠ” ì‹œê°„ë„ ì¤„ì–´ë“ ë‹¤.</p></li></ul></div> <h3 id="á„‰á…¢á†¼á„‰á…¥á†¼"><a href="#á„‰á…¢á†¼á„‰á…¥á†¼" class="header-anchor">#</a> ìƒì„±</h3> <p>ìƒì„± ì¿¼ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ê³ , ì¡°íšŒëŠ” í…Œì´ë¸” ì¡°íšŒì™€ ë˜‘ê°™ì´ <code>select</code>ë¡œ ì¡°íšŒí•˜ë©´ ëœë‹¤.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">view</span> v_Emp <span class="token keyword">AS</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">from</span> Emp e <span class="token keyword">inner</span> <span class="token keyword">join</span> Dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/08.9dd3f040.png" alt="vuepress"></p> <h3 id="view-schema-á„Œá…©á„’á…¬"><a href="#view-schema-á„Œá…©á„’á…¬" class="header-anchor">#</a> view schema ì¡°íšŒ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>views <span class="token keyword">where</span> table_schema <span class="token operator">=</span> <span class="token string">'testdb'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+--------------+----------------+---------------+----------------------+----------------------+</span>
<span class="token operator">|</span> TABLE_CATALOG <span class="token operator">|</span> TABLE_SCHEMA <span class="token operator">|</span> TABLE_NAME <span class="token operator">|</span> VIEW_DEFINITION                                                                                                                                                                                    <span class="token operator">|</span> CHECK_OPTION <span class="token operator">|</span> IS_UPDATABLE <span class="token operator">|</span> <span class="token keyword">DEFINER</span>        <span class="token operator">|</span> SECURITY_TYPE <span class="token operator">|</span> CHARACTER_SET_CLIENT <span class="token operator">|</span> COLLATION_CONNECTION <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+--------------+----------------+---------------+----------------------+----------------------+</span>
<span class="token operator">|</span> def           <span class="token operator">|</span> testdb       <span class="token operator">|</span> v_emp      <span class="token operator">|</span> <span class="token keyword">select</span> <span class="token punctuation">`</span>e<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">AS</span> <span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>e<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>ename<span class="token punctuation">`</span> <span class="token keyword">AS</span> <span class="token punctuation">`</span>ename<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>e<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token keyword">AS</span> <span class="token punctuation">`</span>dept<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>e<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>salary<span class="token punctuation">`</span> <span class="token keyword">AS</span> <span class="token punctuation">`</span>salary<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>d<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>dname<span class="token punctuation">`</span> <span class="token keyword">AS</span> <span class="token punctuation">`</span>dname<span class="token punctuation">`</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>testdb<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>emp<span class="token punctuation">`</span> <span class="token punctuation">`</span>e<span class="token punctuation">`</span> <span class="token keyword">join</span> <span class="token punctuation">`</span>testdb<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token punctuation">`</span>d<span class="token punctuation">`</span> <span class="token keyword">on</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">`</span>e<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token punctuation">`</span>d<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> NONE         <span class="token operator">|</span> YES          <span class="token operator">|</span> root<span class="token variable">@localhost</span> <span class="token operator">|</span> <span class="token keyword">DEFINER</span>       <span class="token operator">|</span> utf8mb4              <span class="token operator">|</span> utf8mb4_0900_ai_ci   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+--------------+------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+--------------+----------------+---------------+----------------------+----------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="trigger"><a href="#trigger" class="header-anchor">#</a> Trigger</h2> <h3>íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ ì €ì ˆë¡œ ì‹¤í–‰ëœë‹¤.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELIMITER</span> <span class="token comment">//</span>
<span class="token keyword">Create</span> <span class="token keyword">Trigger</span> <span class="token operator">&lt;</span><span class="token keyword">trigger</span><span class="token operator">-</span>name<span class="token operator">&gt;</span>
    { BEFORE <span class="token operator">|</span> <span class="token keyword">AFTER</span> } { <span class="token keyword">INSERT</span> <span class="token operator">|</span> <span class="token keyword">UPDATE</span> <span class="token operator">|</span> <span class="token keyword">DELETE</span> } <span class="token comment">-- íŠ¹ì • ì‘ì—… ìˆ˜í–‰ ì „/í›„ (ë³´í†µ í›„ì— ë§ì´ í•¨)</span>
    { PRECEDES <span class="token operator">|</span> FOLLOWS } other<span class="token operator">-</span><span class="token keyword">trigger</span><span class="token operator">-</span>name <span class="token comment">-- ë‹¤ë¥¸ íŠ¸ë¦¬ê±°ê°€ ë˜ ìˆëŠ”ê²½ìš° PRECEDES: otheríƒ€ê¸°ì „ì— íƒ€ë¼ / FOLLOWS: otheríƒ€ê³  íƒ€ë¼</span>
    <span class="token keyword">on</span> <span class="token operator">&lt;</span><span class="token keyword">table</span><span class="token operator">-</span>name<span class="token operator">&gt;</span> <span class="token keyword">FOR EACH ROW</span>
<span class="token keyword">BEGIN</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> OLD<span class="token punctuation">.</span><span class="token operator">&lt;</span>col<span class="token operator">&gt;</span>   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> NEW<span class="token punctuation">.</span><span class="token operator">&lt;</span>col<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">-- OLD: updateì´ì „ê°’ / NEW: updateì´í›„ê°’</span>

<span class="token keyword">END</span> <span class="token comment">//</span>
<span class="token keyword">DELIMITER</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="á„‹á…®á„‰á…¥á†«-á„€á…µá„Œá…©á†«-dept-á„á…¦á„‹á…µá„‡á…³á†¯á„‹á…¦-á„Œá…µá†¨á„‹á…¯á†«-á„‰á…®á„‹á…µá†«-empcnt-á„á…¥á†¯á„…á…¥á†·á„‹á…³á†¯-á„á…®á„€á…¡á„’á…¢á„Œá…®á„€á…©-á„’á…§á†«á„Œá…¢-á„Œá…µá†¨á„‹á…¯á†«á„‰á…®á„…á…©-update-á„á…¥á„…á…µá„’á…¢á„Œá…®á„Œá…¡"><a href="#á„‹á…®á„‰á…¥á†«-á„€á…µá„Œá…©á†«-dept-á„á…¦á„‹á…µá„‡á…³á†¯á„‹á…¦-á„Œá…µá†¨á„‹á…¯á†«-á„‰á…®á„‹á…µá†«-empcnt-á„á…¥á†¯á„…á…¥á†·á„‹á…³á†¯-á„á…®á„€á…¡á„’á…¢á„Œá…®á„€á…©-á„’á…§á†«á„Œá…¢-á„Œá…µá†¨á„‹á…¯á†«á„‰á…®á„…á…©-update-á„á…¥á„…á…µá„’á…¢á„Œá…®á„Œá…¡" class="header-anchor">#</a> ìš°ì„  ê¸°ì¡´ <code>Dept</code> í…Œì´ë¸”ì— ì§ì› ìˆ˜ì¸ <code>empcnt</code> ì»¬ëŸ¼ì„ ì¶”ê°€í•´ì£¼ê³ , í˜„ì¬ ì§ì›ìˆ˜ë¡œ <code>update</code> ì²˜ë¦¬í•´ì£¼ì.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> Dept <span class="token keyword">add</span> <span class="token keyword">column</span> empcnt <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> Dept d <span class="token keyword">set</span> empcnt <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> Emp <span class="token keyword">where</span> dept <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="trigger-á„…á…³á†¯-á„Œá…¥á†¨á„‹á…­á†¼á„’á…¢á„Œá…®á„Œá…¡"><a href="#trigger-á„…á…³á†¯-á„Œá…¥á†¨á„‹á…­á†¼á„’á…¢á„Œá…®á„Œá…¡" class="header-anchor">#</a> <code>Trigger</code> ë¥¼ ì ìš©í•´ì£¼ì.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DEFINER</span> <span class="token operator">=</span> <span class="token keyword">CURRENT_USER</span> <span class="token keyword">TRIGGER</span> <span class="token punctuation">`</span>testdb<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>emp_AFTER_INSERT<span class="token punctuation">`</span> <span class="token keyword">AFTER</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> <span class="token punctuation">`</span>emp<span class="token punctuation">`</span> <span class="token keyword">FOR EACH ROW</span>
<span class="token keyword">BEGIN</span>
  <span class="token keyword">update</span> Dept <span class="token keyword">set</span> empcnt <span class="token operator">=</span> empcnt <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">where</span> id <span class="token operator">=</span> NEW<span class="token punctuation">.</span>dept<span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre></div><p><img src="/assets/img/09.20424611.png" alt="vuepress"></p> <h3 id="insert-á„’á…¢á„‡á…©á„†á…§á†«-triggerá„€á…¡-á„Œá…¥á†¨á„‹á…­á†¼á„ƒá…¬á„‹á…¥-empcntá„€á…¡-á„‚á…³á†¯á„‹á…¥á„‚á…¡á„‚á…³á†«-á„€á…¥á†¯-á„’á…ªá†¨á„‹á…µá†«á„’á…¡á†¯-á„‰á…®-á„‹á…µá†»á„ƒá…¡"><a href="#insert-á„’á…¢á„‡á…©á„†á…§á†«-triggerá„€á…¡-á„Œá…¥á†¨á„‹á…­á†¼á„ƒá…¬á„‹á…¥-empcntá„€á…¡-á„‚á…³á†¯á„‹á…¥á„‚á…¡á„‚á…³á†«-á„€á…¥á†¯-á„’á…ªá†¨á„‹á…µá†«á„’á…¡á†¯-á„‰á…®-á„‹á…µá†»á„ƒá…¡" class="header-anchor">#</a> <code>insert</code> í•´ë³´ë©´ <code>Trigger</code>ê°€ ì ìš©ë˜ì–´ <code>empcnt</code>ê°€ ëŠ˜ì–´ë‚˜ëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+---------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pid <span class="token operator">|</span> dname   <span class="token operator">|</span> workdate            <span class="token operator">|</span> captain <span class="token operator">|</span> empcnt <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">111</span> <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">16</span>:<span class="token number">58</span>:<span class="token number">13</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> ê°œë°œë¶€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">16</span>:<span class="token number">57</span>:<span class="token number">39</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">10</span>:<span class="token number">23</span>:<span class="token number">20</span> <span class="token operator">|</span>      <span class="token number">66</span> <span class="token operator">|</span>     <span class="token number">62</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">10</span>:<span class="token number">23</span>:<span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">198</span> <span class="token operator">|</span>     <span class="token number">47</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span>:<span class="token number">52</span>:<span class="token number">15</span> <span class="token operator">|</span>      <span class="token number">76</span> <span class="token operator">|</span>     <span class="token number">48</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> ì„œë²„íŒ€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">10</span>:<span class="token number">23</span>:<span class="token number">20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">55</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> í´ë¼íŒ€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">10</span>:<span class="token number">23</span>:<span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">259</span> <span class="token operator">|</span>     <span class="token number">51</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+---------+--------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> Emp<span class="token punctuation">(</span>ename<span class="token punctuation">,</span> dept<span class="token punctuation">,</span> salary<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'SSS'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+---------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pid <span class="token operator">|</span> dname   <span class="token operator">|</span> workdate            <span class="token operator">|</span> captain <span class="token operator">|</span> empcnt <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">111</span> <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">16</span>:<span class="token number">58</span>:<span class="token number">13</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span> ê°œë°œë¶€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">27</span> <span class="token number">16</span>:<span class="token number">57</span>:<span class="token number">39</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">10</span>:<span class="token number">23</span>:<span class="token number">20</span> <span class="token operator">|</span>      <span class="token number">66</span> <span class="token operator">|</span>     <span class="token number">62</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">10</span>:<span class="token number">23</span>:<span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">198</span> <span class="token operator">|</span>     <span class="token number">47</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€ <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span>:<span class="token number">53</span>:<span class="token number">11</span> <span class="token operator">|</span>      <span class="token number">76</span> <span class="token operator">|</span>     <span class="token number">49</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> ì„œë²„íŒ€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">10</span>:<span class="token number">23</span>:<span class="token number">20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">55</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> í´ë¼íŒ€  <span class="token operator">|</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">10</span>:<span class="token number">23</span>:<span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">259</span> <span class="token operator">|</span>     <span class="token number">51</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----+---------+---------------------+---------+--------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="deleteá„‹á…¦á„ƒá…©-empcntá„€á…¡-1-á„ƒá…¬á„ƒá…©á„…á…©á†¨-triggerá„…á…³á†¯-á„€á…¥á†¯á„‹á…¥á„Œá…®á†«á„ƒá…¡"><a href="#deleteá„‹á…¦á„ƒá…©-empcntá„€á…¡-1-á„ƒá…¬á„ƒá…©á„…á…©á†¨-triggerá„…á…³á†¯-á„€á…¥á†¯á„‹á…¥á„Œá…®á†«á„ƒá…¡" class="header-anchor">#</a> <code>delete</code>ì—ë„ <code>empcnt</code>ê°€ -1 ë˜ë„ë¡ triggerë¥¼ ê±¸ì–´ì¤€ë‹¤.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DEFINER</span> <span class="token operator">=</span> <span class="token keyword">CURRENT_USER</span> <span class="token keyword">TRIGGER</span> <span class="token punctuation">`</span>testdb<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>emp_AFTER_DELETE<span class="token punctuation">`</span> <span class="token keyword">AFTER</span> <span class="token keyword">DELETE</span> <span class="token keyword">ON</span> <span class="token punctuation">`</span>emp<span class="token punctuation">`</span> <span class="token keyword">FOR EACH ROW</span>
<span class="token keyword">BEGIN</span>
 <span class="token keyword">update</span> Dept <span class="token keyword">set</span> empcnt <span class="token operator">=</span> empcnt <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token keyword">where</span> id <span class="token operator">=</span> OLD<span class="token punctuation">.</span>dept<span class="token punctuation">;</span> <span class="token comment">-- ìƒˆë¡œ ë“¤ì–´ì˜¤ëŠ” NEWê°€ ì—†ìœ¼ë¯€ë¡œ OLDë¡œ ì¨ì¤€ë‹¤.</span>
<span class="token keyword">END</span>
</code></pre></div><h3 id="updateá„‹á…¦á„ƒá…©-á„€á…¥á†¯á„‹á…¥á„Œá…®á†«á„ƒá…¡-dept-á„‰á…©á†¨á„’á…¡á†«-á„‡á…®á„‰á…¥á„€á…¡-á„‰á…®á„Œá…¥á†¼á„ƒá…¬á„‚á…³á†«-á„€á…§á†¼á„‹á…®á„ƒá…©-empcntá„…á…³á†¯-á„‡á…§á†«á„€á…§á†¼á„’á…¢á„Œá…¯á„‹á…£á„’á…¡á†«á„ƒá…¡"><a href="#updateá„‹á…¦á„ƒá…©-á„€á…¥á†¯á„‹á…¥á„Œá…®á†«á„ƒá…¡-dept-á„‰á…©á†¨á„’á…¡á†«-á„‡á…®á„‰á…¥á„€á…¡-á„‰á…®á„Œá…¥á†¼á„ƒá…¬á„‚á…³á†«-á„€á…§á†¼á„‹á…®á„ƒá…©-empcntá„…á…³á†¯-á„‡á…§á†«á„€á…§á†¼á„’á…¢á„Œá…¯á„‹á…£á„’á…¡á†«á„ƒá…¡" class="header-anchor">#</a> <code>update</code>ì—ë„ ê±¸ì–´ì¤€ë‹¤. <code>dept</code>-ì†í•œ ë¶€ì„œê°€ ìˆ˜ì •ë˜ëŠ” ê²½ìš°ë„ <code>empcnt</code>ë¥¼ ë³€ê²½í•´ì¤˜ì•¼í•œë‹¤.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DEFINER</span><span class="token operator">=</span><span class="token punctuation">`</span>root<span class="token punctuation">`</span><span class="token variable">@`localhost`</span> <span class="token keyword">TRIGGER</span> <span class="token punctuation">`</span>emp_AFTER_UPDATE<span class="token punctuation">`</span> <span class="token keyword">AFTER</span> <span class="token keyword">UPDATE</span> <span class="token keyword">ON</span> <span class="token punctuation">`</span>emp<span class="token punctuation">`</span> <span class="token keyword">FOR EACH ROW</span> <span class="token keyword">BEGIN</span>
  <span class="token keyword">IF</span> OLD<span class="token punctuation">.</span>dept <span class="token operator">!=</span> NEW<span class="token punctuation">.</span>dept <span class="token keyword">THEN</span> <span class="token comment">-- ë¶€ì„œê°€ ë³€ê²½ë˜ëŠ” ê²½ìš°</span>
    <span class="token keyword">update</span> Dept <span class="token keyword">set</span> empcnt <span class="token operator">=</span> empcnt <span class="token operator">-</span> <span class="token number">1</span>
      <span class="token keyword">where</span> id <span class="token operator">=</span> OLD<span class="token punctuation">.</span>dept<span class="token punctuation">;</span>
    
    <span class="token keyword">update</span> Dept <span class="token keyword">set</span> empcnt <span class="token operator">=</span> empcnt <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token keyword">where</span> id <span class="token operator">=</span> NEW<span class="token punctuation">.</span>dept<span class="token punctuation">;</span>
  <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre></div><h2 id="union"><a href="#union" class="header-anchor">#</a> UNION</h2> <h3 id="unioná„‹á…³á†«-á„Œá…®á†¼á„‡á…©á†¨á„‹á…³á†¯-á„ˆá…¢á„€á…©-union-allá„‹á…³á†«-á„Œá…®á†¼á„‡á…©á†¨á„ƒá…©-á„‘á…©á„’á…¡á†·á„’á…¡á†«á„ƒá…¡"><a href="#unioná„‹á…³á†«-á„Œá…®á†¼á„‡á…©á†¨á„‹á…³á†¯-á„ˆá…¢á„€á…©-union-allá„‹á…³á†«-á„Œá…®á†¼á„‡á…©á†¨á„ƒá…©-á„‘á…©á„’á…¡á†·á„’á…¡á†«á„ƒá…¡" class="header-anchor">#</a> <code>UNION</code>ì€ ì¤‘ë³µì„ ë¹¼ê³ , <code>UNION ALL</code>ì€ ì¤‘ë³µë„ í¬í•¨í•œë‹¤.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> subject <span class="token keyword">where</span> classroom <span class="token operator">&lt;</span> <span class="token number">3</span>
{ <span class="token keyword">UNION</span> <span class="token operator">|</span> <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>}
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> subject <span class="token keyword">where</span> classroom <span class="token operator">&lt;</span> <span class="token number">5</span>
</code></pre></div><h2 id="rownum"><a href="#rownum" class="header-anchor">#</a> @rownum</h2> <p>ìˆœë²ˆì„ ë§¤ê¸°ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤.</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> s<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token variable">@rownum</span> :<span class="token operator">=</span> <span class="token variable">@rownum</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">from</span> Emp s<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token variable">@rownum</span> :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> rn<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----+--------+------+--------+--------------------------+</span>
<span class="token operator">|</span> id  <span class="token operator">|</span> ename  <span class="token operator">|</span> dept <span class="token operator">|</span> salary <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token variable">@rownum</span> :<span class="token operator">=</span> <span class="token variable">@rownum</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----+--------+------+--------+--------------------------+</span>
<span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> ì „ì°¨ì¢… <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>                        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> ë§ˆë¯¼ì¢… <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>                        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> ì¡°ìë¼ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">500</span> <span class="token operator">|</span>                        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span> ìµœí˜¸ìˆœ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span>                        <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span> ì¡°ì„¸í˜¸ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>                        <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">6</span> <span class="token operator">|</span> ìµœêµ­ì„¸ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>                        <span class="token number">6</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">7</span> <span class="token operator">|</span> ì¡°ì°¨ë§ˆ <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">500</span> <span class="token operator">|</span>                        <span class="token number">7</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">8</span> <span class="token operator">|</span> ë°©ì„¸ì§€ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>                        <span class="token number">8</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">9</span> <span class="token operator">|</span> ì „ê²°ì€ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>                        <span class="token number">9</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> ì´ì„¸ì‚¬ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>                       <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">11</span> <span class="token operator">|</span> ì²œë°”ê°€ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">300</span> <span class="token operator">|</span>                       <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> ìœ í˜œì¢… <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span>                       <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">13</span> <span class="token operator">|</span> ì²œê°€í˜¸ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>                       <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">14</span> <span class="token operator">|</span> ìœ ì°¨ìˆœ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">300</span> <span class="token operator">|</span>                       <span class="token number">14</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span> ìœ ê°€ì¢… <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>                       <span class="token number">15</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">16</span> <span class="token operator">|</span> ì „ì‚¬ë°” <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span>                       <span class="token number">16</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">17</span> <span class="token operator">|</span> ê¹€ì°¬ì•„ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>                       <span class="token number">17</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">18</span> <span class="token operator">|</span> ì›ê°€ì°¬ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">300</span> <span class="token operator">|</span>                       <span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">19</span> <span class="token operator">|</span> ë§ˆì•„ê²° <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>                       <span class="token number">19</span> <span class="token operator">|</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>ìƒëµ
</code></pre></div><h2 id="procudure-out-á„á…®á†¯á„…á…§á†¨-into-á„‰á…¡á„‹á…­á†¼"><a href="#procudure-out-á„á…®á†¯á„…á…§á†¨-into-á„‰á…¡á„‹á…­á†¼" class="header-anchor">#</a> Procudure - OUT ì¶œë ¥ | into ì‚¬ìš©</h2> <h3 id="á„‘á…³á„…á…©á„‰á…µá„Œá…¥-á„Œá…¡á†¨á„‹á…¥á†¸-á„’á…®-á„‡á…§á†«á„‰á…®á„…á…³á†¯-á„á…®á†¯á„…á…§á†¨á„’á…¡á„€á…©-á„‰á…µá‡á„‹á…³á†¯-á„„á…¢-outá„‹á…³á†¯-á„‰á…¡á„‹á…­á†¼á„’á…¡á†«á„ƒá…¡"><a href="#á„‘á…³á„…á…©á„‰á…µá„Œá…¥-á„Œá…¡á†¨á„‹á…¥á†¸-á„’á…®-á„‡á…§á†«á„‰á…®á„…á…³á†¯-á„á…®á†¯á„…á…§á†¨á„’á…¡á„€á…©-á„‰á…µá‡á„‹á…³á†¯-á„„á…¢-outá„‹á…³á†¯-á„‰á…¡á„‹á…­á†¼á„’á…¡á†«á„ƒá…¡" class="header-anchor">#</a> í”„ë¡œì‹œì € ì‘ì—… í›„, ë³€ìˆ˜ë¥¼ ì¶œë ¥í•˜ê³  ì‹¶ì„ ë•Œ <code>OUT</code>ì„ ì‚¬ìš©í•œë‹¤.</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> <span class="token punctuation">`</span>sp_emp_del<span class="token punctuation">`</span><span class="token punctuation">(</span>_empid <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">OUT</span> _empcnt <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token comment">-- ì‚­ì œ í›„, empcnt ê°€ì ¸ì˜¤ê³  ì‹¶ì„ë–„</span>
<span class="token keyword">BEGIN</span>
  <span class="token keyword">declare</span> v_deptid <span class="token keyword">tinyint</span><span class="token punctuation">;</span>
  <span class="token keyword">select</span> dept <span class="token keyword">into</span> v_deptid <span class="token keyword">from</span> Emp <span class="token keyword">where</span> id <span class="token operator">=</span> _empid<span class="token punctuation">;</span> <span class="token comment">-- into: deptë¥¼ v_deptid ë³€ìˆ˜ì— ì…ë ¥</span>
  
  <span class="token keyword">delete</span> <span class="token keyword">from</span> Emp <span class="token keyword">where</span> id <span class="token operator">=</span> _empid<span class="token punctuation">;</span>
  
  <span class="token keyword">select</span> empcnt <span class="token keyword">into</span> _empcnt <span class="token keyword">from</span> Dept <span class="token keyword">where</span> id <span class="token operator">=</span> v_deptid<span class="token punctuation">;</span> 
<span class="token keyword">END</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">call</span> sp_emp_del<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token variable">@empcnt</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- empcntë¥¼ ë°›ì•„ì˜¨ë‹¤.</span>
<span class="token keyword">select</span> <span class="token variable">@empcnt</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Leave</p> <p><code>Leave</code>ë¥¼ ì‚¬ìš©í•˜ë©´ í”„ë¡œì‹œì € ë„ì¤‘ ì¤‘ë‹¨ ê°€ëŠ¥í•˜ë‹¤.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DEFINER</span><span class="token operator">=</span><span class="token punctuation">`</span>root<span class="token punctuation">`</span><span class="token variable">@`localhost`</span> <span class="token keyword">PROCEDURE</span> <span class="token punctuation">`</span>sp_emp_range<span class="token punctuation">`</span><span class="token punctuation">(</span>_sid <span class="token keyword">int</span><span class="token punctuation">,</span> _eid <span class="token keyword">int</span><span class="token punctuation">)</span>
prox:<span class="token keyword">BEGIN</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> ìƒëµ
    <span class="token keyword">leave</span> prox<span class="token punctuation">;</span> <span class="token comment">-- ì¡°ê±´ ë§Œì¡± ëª»í–ˆì„ ë•Œ, ì·¨ì†Œì‹œí‚¤ê³  ì‹¶ì€ ê²½ìš°</span>
<span class="token keyword">END</span>
</code></pre></div></div> <h2 id="prepare"><a href="#prepare" class="header-anchor">#</a> Prepare</h2> <h3 id="stringá„‹á…³á„…á…©-á„‡á…¡á†®á„‹á…¡á„‹á…©á†«-á„€á…¡á†¹-á„á…¯á„…á…µá„‹á…¦-á„‰á…¡á„‹á…­á†¼á„’á…¡á„€á…µ"><a href="#stringá„‹á…³á„…á…©-á„‡á…¡á†®á„‹á…¡á„‹á…©á†«-á„€á…¡á†¹-á„á…¯á„…á…µá„‹á…¦-á„‰á…¡á„‹á…­á†¼á„’á…¡á„€á…µ" class="header-anchor">#</a> Stringìœ¼ë¡œ ë°›ì•„ì˜¨ ê°’ ì¿¼ë¦¬ì— ì‚¬ìš©í•˜ê¸°</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> <span class="token punctuation">`</span>sp_count<span class="token punctuation">`</span><span class="token punctuation">(</span>_table <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
  <span class="token keyword">SET</span> <span class="token variable">@sql</span> <span class="token operator">=</span> CONCAT<span class="token punctuation">(</span><span class="token string">'select count(*) cnt from '</span><span class="token punctuation">,</span> _table<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">PREPARE</span> myQuery <span class="token keyword">from</span> <span class="token variable">@sql</span><span class="token punctuation">;</span>
  <span class="token keyword">EXECUTE</span> myQuery<span class="token punctuation">;</span>
  <span class="token keyword">DEALLOCATE</span> <span class="token keyword">PREPARE</span> myQuery<span class="token punctuation">;</span> <span class="token comment">-- ë©”ëª¨ë¦¬ì—ì„œ ì‚­ì œ</span>
<span class="token keyword">END</span>
</code></pre></div><h2 id="cursor"><a href="#cursor" class="header-anchor">#</a> Cursor</h2> <h3 id="rowá„…á…³á†¯-á„‰á…¥á†«á„á…¢á†¨á„’á…¡á„‚á…³á†«-á„€á…¢á„‚á…§á†·á„‹á…µá„…á…¡á„€á…©-á„‡á…©á„†á…§á†«-á„ƒá…¬á†«á„ƒá…¡"><a href="#rowá„…á…³á†¯-á„‰á…¥á†«á„á…¢á†¨á„’á…¡á„‚á…³á†«-á„€á…¢á„‚á…§á†·á„‹á…µá„…á…¡á„€á…©-á„‡á…©á„†á…§á†«-á„ƒá…¬á†«á„ƒá…¡" class="header-anchor">#</a> rowë¥¼ ì„ íƒí•˜ëŠ” ê°œë…ì´ë¼ê³  ë³´ë©´ ëœë‹¤.</h3> <p><img src="/assets/img/10.a9e6da34.png" alt="vuepress"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">Declare</span> <span class="token operator">&lt;</span><span class="token keyword">cursor</span><span class="token operator">-</span>name<span class="token operator">&gt;</span> <span class="token keyword">CURSOR</span> <span class="token keyword">FOR</span>
    <span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">Declare</span> <span class="token keyword">Continue</span> <span class="token keyword">Handler</span>
    <span class="token keyword">For</span> <span class="token operator">Not</span> Found <span class="token keyword">SET</span> <span class="token operator">&lt;</span><span class="token keyword">end</span><span class="token operator">-</span>flag<span class="token operator">&gt;</span> :<span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">;</span>

<span class="token keyword">OPEN</span> <span class="token operator">&lt;</span><span class="token keyword">cursor</span><span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token operator">&lt;</span><span class="token keyword">cursor</span><span class="token operator">-</span><span class="token keyword">loop</span><span class="token operator">-</span>var<span class="token operator">&gt;</span>: <span class="token keyword">LOOP</span>
        <span class="token keyword">Fetch</span> <span class="token operator">&lt;</span><span class="token keyword">cursor</span><span class="token operator">-</span>name<span class="token operator">&gt;</span> <span class="token keyword">into</span> <span class="token operator">&lt;</span>var<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
        <span class="token keyword">IF</span> <span class="token operator">&lt;</span><span class="token keyword">end</span><span class="token operator">-</span>flag<span class="token operator">&gt;</span> <span class="token keyword">THEN</span>
            <span class="token keyword">LEAVE</span> <span class="token operator">&lt;</span><span class="token keyword">cursor</span><span class="token operator">-</span><span class="token keyword">loop</span><span class="token operator">-</span>var<span class="token operator">&gt;</span><span class="token punctuation">;</span>
        <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">END</span> <span class="token keyword">LOOP</span> <span class="token operator">&lt;</span><span class="token keyword">cursor</span><span class="token operator">-</span><span class="token keyword">loop</span><span class="token operator">-</span>var<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">CLOSE</span> <span class="token operator">&lt;</span><span class="token keyword">cursor</span><span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="exception-handling"><a href="#exception-handling" class="header-anchor">#</a> Exception Handling</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span>

<span class="token keyword">DECLARE</span> {<span class="token keyword">EXIT</span> <span class="token operator">|</span> <span class="token keyword">CONTINUE</span>} <span class="token keyword">HANDLER</span> <span class="token keyword">FOR</span> <span class="token punctuation">[</span> SQLEXCEPTION <span class="token operator">|</span> <span class="token operator">&lt;</span>code<span class="token operator">&gt;</span> <span class="token punctuation">]</span>

<span class="token keyword">BEGIN</span>
    <span class="token keyword">SHOW</span> <span class="token keyword">ERRORS</span><span class="token punctuation">;</span>
    <span class="token keyword">SELECT</span> <span class="token string">'ì—ëŸ¬ë°œìƒ'</span> <span class="token keyword">as</span> <span class="token string">'Result'</span><span class="token punctuation">;</span>
    <span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>

<span class="token comment">-- ìœ„ì—ì„œ CONTINUE ë¼ê³  ì„ ì–¸í–ˆë‹¤ë©´, ì˜¤ë¥˜ ë°œìƒí•´ë„ ì•„ë˜ ê³„ì† ìˆ˜í–‰!</span>

<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="á„‹á…±-á„‚á…¡á„‹á…©á†«-á„‚á…¢á„‹á…­á†¼á„‹á…³á†¯-á„Œá…¥á†«á„‡á…®-á„‰á…¡á„‹á…­á†¼á„’á…¡á†«-procedure-á„‹á…¨á„Œá…¦"><a href="#á„‹á…±-á„‚á…¡á„‹á…©á†«-á„‚á…¢á„‹á…­á†¼á„‹á…³á†¯-á„Œá…¥á†«á„‡á…®-á„‰á…¡á„‹á…­á†¼á„’á…¡á†«-procedure-á„‹á…¨á„Œá…¦" class="header-anchor">#</a> ìœ„ ë‚˜ì˜¨ ë‚´ìš©ì„ ì „ë¶€ ì‚¬ìš©í•œ Procedure ì˜ˆì œ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> <span class="token punctuation">`</span>sp_emp_range<span class="token punctuation">`</span><span class="token punctuation">(</span>_sid <span class="token keyword">int</span><span class="token punctuation">,</span> _eid <span class="token keyword">int</span><span class="token punctuation">)</span>
prox:<span class="token keyword">BEGIN</span>
  <span class="token keyword">declare</span> v_sid <span class="token keyword">int</span> <span class="token keyword">default</span> _sid<span class="token punctuation">;</span>
  <span class="token keyword">declare</span> v_eid <span class="token keyword">int</span> <span class="token keyword">default</span> _eid<span class="token punctuation">;</span>
  
  <span class="token comment">-- cursor ì„ì‹œ ë³€ìˆ˜</span>
  <span class="token keyword">declare</span> v_empid <span class="token keyword">int</span><span class="token punctuation">;</span>
  <span class="token keyword">declare</span> v_ename <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">declare</span> v_dname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">-- cursor ì¢…ë£Œ flag</span>
  <span class="token keyword">Declare</span> _done <span class="token keyword">boolean</span> <span class="token keyword">default</span> <span class="token boolean">False</span><span class="token punctuation">;</span>
  
  <span class="token keyword">Declare</span> _cur <span class="token keyword">CURSOR</span> <span class="token keyword">FOR</span>
    <span class="token keyword">select</span> id<span class="token punctuation">,</span> ename<span class="token punctuation">,</span> dname  <span class="token keyword">from</span> v_Emp <span class="token keyword">where</span> id <span class="token operator">between</span> v_sid <span class="token operator">and</span> v_eid<span class="token punctuation">;</span>
    
  <span class="token keyword">Declare</span> <span class="token keyword">Continue</span> <span class="token keyword">Handler</span>
    <span class="token keyword">For</span> <span class="token operator">Not</span> Found <span class="token keyword">SET</span> _done :<span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">;</span>
    
    
  <span class="token comment">-- error handling</span>
  <span class="token keyword">DECLARE</span> <span class="token keyword">EXIT</span> <span class="token keyword">HANDLER</span> <span class="token keyword">FOR</span> SQLEXCEPTION
  <span class="token keyword">BEGIN</span>
    <span class="token keyword">SHOW</span> <span class="token keyword">ERRORS</span><span class="token punctuation">;</span>
    <span class="token keyword">SELECT</span> <span class="token string">'ì—ëŸ¬ë°œìƒ'</span> <span class="token keyword">as</span> <span class="token string">'Result'</span><span class="token punctuation">;</span>
  <span class="token keyword">END</span><span class="token punctuation">;</span>
  
  <span class="token keyword">IF</span> _sid <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">AND</span> _eid <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">THEN</span>
    <span class="token keyword">leave</span> prox<span class="token punctuation">;</span>
  <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
  
  <span class="token keyword">IF</span> _sid <span class="token operator">&gt;</span> _eid <span class="token keyword">THEN</span>
    <span class="token keyword">set</span> v_sid <span class="token operator">=</span> _eid<span class="token punctuation">;</span>
    <span class="token keyword">set</span> v_eid <span class="token operator">=</span> _sid<span class="token punctuation">;</span>
  <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
  
  <span class="token comment">-- ì„ì‹œí…Œì´ë¸” ì¡´ì¬í•˜ëŠ” ê²½ìš° drop</span>
  <span class="token keyword">drop</span> <span class="token keyword">temporary</span> <span class="token keyword">table</span> <span class="token keyword">IF</span> <span class="token keyword">Exists</span> Tmp<span class="token punctuation">;</span>
  
  <span class="token comment">-- ì„ì‹œ í…Œì´ë¸” ìƒì„±</span>
  <span class="token keyword">create</span> <span class="token keyword">temporary</span> <span class="token keyword">table</span> Tmp <span class="token punctuation">(</span>
    empid <span class="token keyword">int</span><span class="token punctuation">,</span>
    edname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">63</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">OPEN</span> _cur<span class="token punctuation">;</span> <span class="token comment">-- ì»¤ì„œ ì—´ê¸°</span>
  
    cur_loop: <span class="token keyword">LOOP</span>
      <span class="token keyword">Fetch</span> _cur <span class="token keyword">into</span> v_empid<span class="token punctuation">,</span> v_ename<span class="token punctuation">,</span> v_dname<span class="token punctuation">;</span>
      <span class="token keyword">IF</span> _done <span class="token keyword">THEN</span>
        <span class="token keyword">LEAVE</span> cur_loop<span class="token punctuation">;</span>
      <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
      
      <span class="token keyword">insert</span> <span class="token keyword">into</span> Tmp<span class="token punctuation">(</span>empid<span class="token punctuation">,</span> edname<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>v_empid<span class="token punctuation">,</span> concat<span class="token punctuation">(</span>v_ename<span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> ifnull<span class="token punctuation">(</span>v_dname<span class="token punctuation">,</span><span class="token string">'ì†Œì†íŒ€ì—†ìŒ'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
    <span class="token keyword">END</span> <span class="token keyword">LOOP</span> cur_loop<span class="token punctuation">;</span>
  
  <span class="token keyword">CLOSE</span> _cur<span class="token punctuation">;</span> <span class="token comment">-- ì»¤ì„œ ë‹«ê¸°</span>
  
  <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Tmp<span class="token punctuation">;</span>
  
<span class="token keyword">END</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">call</span> sp_emp_range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+----------------+</span>
<span class="token operator">|</span> empid <span class="token operator">|</span> edname         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+----------------+</span>
<span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span> ì „ì°¨ì¢…<span class="token operator">-</span>í´ë¼íŒ€  <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> ë§ˆë¯¼ì¢…<span class="token operator">-</span>ì˜ì—…<span class="token number">2</span>íŒ€ <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span> ì¡°ìë¼<span class="token operator">-</span>ì„œë²„íŒ€  <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span> ìµœí˜¸ìˆœ<span class="token operator">-</span>ì˜ì—…<span class="token number">3</span>íŒ€ <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">5</span> <span class="token operator">|</span> ì¡°ì„¸í˜¸<span class="token operator">-</span>ì„œë²„íŒ€  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+----------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="with-cte"><a href="#with-cte" class="header-anchor">#</a> WITH CTE</h2> <div class="custom-block tip"><p class="custom-block-title">WITH -  CTE</p> <p>ë©”ëª¨ë¦¬ì— ì„ì‹œ ê²°ê³¼ ì…‹ìœ¼ë¡œ ì˜¬ë ¤ë†“ê³  ì¬ì‚¬ìš©. (cf. View, Function)</p> <ul><li>ì¥ì <br>
ìˆœì„œì— ì˜í•œ ì ˆì°¨ì ìœ¼ë¡œ ì‘ì„± -&gt; ì‘ì„±í•˜ê¸° ì‰½ê³  ì½ê¸° ì‰½ë‹¤.</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WITH</span> <span class="token punctuation">[</span>RECURSIVE<span class="token punctuation">]</span>
    cte_name <span class="token punctuation">[</span><span class="token punctuation">(</span>colr_name <span class="token punctuation">[</span><span class="token punctuation">,</span> col_name<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">AS</span> <span class="token punctuation">(</span>subquery<span class="token punctuation">)</span>
    <span class="token punctuation">[</span><span class="token punctuation">,</span> cte_name <span class="token punctuation">[</span><span class="token punctuation">(</span>colr_name <span class="token punctuation">[</span><span class="token punctuation">,</span> col_name<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">AS</span> <span class="token punctuation">(</span>subquery<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> cte_name<span class="token punctuation">;</span>
</code></pre></div><p>MY SQLì˜ CTEì—ëŠ” ì•„ë˜ì™€ ê°™ì´ 2ê°€ì§€ CTEë¥¼ ì œê³µí•˜ê³  ìˆë‹¤.</p> <p><b>1. Common Table Expressions (ê¸°ë³¸ CTE)</b> - ìˆœì°¨ì ìœ¼ë¡œ ì¿¼ë¦¬ ì‘ì„± ê°€ëŠ¥<br> <b>2. Recursive Common Table Expressions (ì¬ê·€ CTE)</b> - ìŠ¤ìŠ¤ë¡œ ì¶”ê°€ì ì¸ Rowë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</p></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WITH</span>
  AvgSal <span class="token keyword">AS</span> <span class="token punctuation">(</span> <span class="token comment">-- í‰ê·  ê¸‰ì—¬</span>
    <span class="token keyword">select</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> avgsal
    <span class="token keyword">from</span> Dept d <span class="token keyword">inner</span> <span class="token keyword">join</span> Emp e <span class="token keyword">on</span> d<span class="token punctuation">.</span>id <span class="token operator">=</span> e<span class="token punctuation">.</span>dept
    <span class="token keyword">group</span> <span class="token keyword">by</span> d<span class="token punctuation">.</span>id
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  MaxAvgSal <span class="token keyword">AS</span> <span class="token punctuation">(</span> <span class="token comment">-- ìµœê³ </span>
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> AvgSal <span class="token keyword">order</span> <span class="token keyword">by</span> avgSal <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">1</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  MinAvgSal <span class="token keyword">AS</span> <span class="token punctuation">(</span> <span class="token comment">-- ìµœì†Œ</span>
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> AvgSal <span class="token keyword">order</span> <span class="token keyword">by</span> avgSal <span class="token keyword">asc</span> <span class="token keyword">limit</span> <span class="token number">1</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  SumUp <span class="token keyword">AS</span> <span class="token punctuation">(</span> <span class="token comment">-- union</span>
    <span class="token keyword">select</span> <span class="token string">'ìµœê³ '</span> <span class="token keyword">as</span> gb<span class="token punctuation">,</span> m1<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> MaxAvgSal m1
    <span class="token keyword">UNION</span>
    <span class="token keyword">select</span> <span class="token string">'ìµœì €'</span> <span class="token keyword">as</span> gb<span class="token punctuation">,</span> m2<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> MinAvgSal m2
  <span class="token punctuation">)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Sumup
<span class="token keyword">UNION</span>
<span class="token keyword">select</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'í‰ê· ê¸‰ì—¬ì°¨ì•¡'</span><span class="token punctuation">,</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span>avgsal<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">min</span><span class="token punctuation">(</span>avgsal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">from</span> SumUp<span class="token punctuation">;</span>  <span class="token comment">-- ì°¨ì•¡</span>

<span class="token operator">+</span><span class="token comment">------+--------------+----------+</span>
<span class="token operator">|</span> gb   <span class="token operator">|</span> dname        <span class="token operator">|</span> avgsal   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------+----------+</span>
<span class="token operator">|</span> ìµœê³  <span class="token operator">|</span> ì„œë²„íŒ€       <span class="token operator">|</span> <span class="token number">538.1818</span> <span class="token operator">|</span>
<span class="token operator">|</span> ìµœì € <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€      <span class="token operator">|</span> <span class="token number">450.0000</span> <span class="token operator">|</span>
<span class="token operator">|</span>      <span class="token operator">|</span> í‰ê· ê¸‰ì—¬ì°¨ì•¡ <span class="token operator">|</span> <span class="token number">881</span><span class="token punctuation">,</span><span class="token number">818</span>  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------+----------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="á„Œá…¢á„€á…±-cte"><a href="#á„Œá…¢á„€á…±-cte" class="header-anchor">#</a> ì¬ê·€ CTE</h2> <h3 id="á„‘á…µá„‡á…©á„‚á…¡á„á…µ-á„‰á…®á„‹á…§á†¯"><a href="#á„‘á…µá„‡á…©á„‚á…¡á„á…µ-á„‰á…®á„‹á…§á†¯" class="header-anchor">#</a> í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´</h3> <p><b>ë³€ìˆ˜ì— ë§ì¶°ì„œ ì¡°íšŒí•´ì•¼ í•œë‹¤.</b></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WITH</span> RECURSIVE fibonacci <span class="token punctuation">(</span>n<span class="token punctuation">,</span> fib_n<span class="token punctuation">,</span> next_fib_n<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token comment">-- ë³€ìˆ˜ 3ê°œ</span>
<span class="token punctuation">(</span>
    <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token comment">-- 3ê°œ</span>
    <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
    <span class="token keyword">select</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> next_fib_n<span class="token punctuation">,</span> fib_n <span class="token operator">+</span> next_fib_n <span class="token comment">-- 3ê°œ</span>
      <span class="token keyword">from</span> fibonacci <span class="token keyword">where</span> n <span class="token operator">&lt;</span> <span class="token number">10</span>
<span class="token punctuation">)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> fibonacci<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+-------+------------+</span>
<span class="token operator">|</span> n    <span class="token operator">|</span> fib_n <span class="token operator">|</span> next_fib_n <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-------+------------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>     <span class="token number">0</span> <span class="token operator">|</span>          <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span>          <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span>          <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span>          <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span>          <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>     <span class="token number">5</span> <span class="token operator">|</span>          <span class="token number">8</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>     <span class="token number">8</span> <span class="token operator">|</span>         <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">8</span> <span class="token operator">|</span>    <span class="token number">13</span> <span class="token operator">|</span>         <span class="token number">21</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">9</span> <span class="token operator">|</span>    <span class="token number">21</span> <span class="token operator">|</span>         <span class="token number">34</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span>    <span class="token number">34</span> <span class="token operator">|</span>         <span class="token number">55</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-------+------------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="á„€á…¨á„á…³á†¼-á„á…¦á„‰á…³á„á…³á„…á…³á†¯-á„‹á…±á„’á…¢-á„‡á…®á„‰á…¥á„…á…³á†¯-á„‚á…¥á‡‚á„‹á…¥á„Œá…®á„Œá…¡"><a href="#á„€á…¨á„á…³á†¼-á„á…¦á„‰á…³á„á…³á„…á…³á†¯-á„‹á…±á„’á…¢-á„‡á…®á„‰á…¥á„…á…³á†¯-á„‚á…¥á‡‚á„‹á…¥á„Œá…®á„Œá…¡" class="header-anchor">#</a> ê³„ì¸µ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë¶€ì„œë¥¼ ë„£ì–´ì£¼ì</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> Dept<span class="token punctuation">(</span>pid<span class="token punctuation">,</span> dname<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'ì¸í”„ë¼ì…€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Dept<span class="token punctuation">(</span>pid<span class="token punctuation">,</span> dname<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'DBì…€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Dept<span class="token punctuation">(</span>pid<span class="token punctuation">,</span> dname<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'ëª¨ë°”ì¼ì…€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="á„‹á…®á„‰á…¥á†«-á„á…³á„…á…µá„€á…®á„Œá…©á„€á…¡-á„‹á…¡á„‚á…µá†«-á„’á…§á†¼á„á…¢á„…á…©-á„Œá…©á„’á…¬"><a href="#á„‹á…®á„‰á…¥á†«-á„á…³á„…á…µá„€á…®á„Œá…©á„€á…¡-á„‹á…¡á„‚á…µá†«-á„’á…§á†¼á„á…¢á„…á…©-á„Œá…©á„’á…¬" class="header-anchor">#</a> ìš°ì„  íŠ¸ë¦¬êµ¬ì¡°ê°€ ì•„ë‹Œ í˜•íƒœë¡œ ì¡°íšŒ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WITH</span> RECURSIVE CteDept <span class="token punctuation">(</span>id<span class="token punctuation">,</span> pid<span class="token punctuation">,</span> npname<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> d<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token comment">-- d: depth : ì‹¤í–‰ìˆœì„œ</span>
<span class="token punctuation">(</span>
  <span class="token keyword">select</span> id<span class="token punctuation">,</span> pid<span class="token punctuation">,</span> cast<span class="token punctuation">(</span><span class="token string">''</span> <span class="token keyword">as</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dname<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">from</span> Dept <span class="token keyword">where</span> pid <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
  <span class="token keyword">select</span> d<span class="token punctuation">.</span>id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>pid<span class="token punctuation">,</span> cte<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>  d <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">from</span> Dept d <span class="token keyword">inner</span> <span class="token keyword">join</span> CteDept cte <span class="token keyword">on</span> d<span class="token punctuation">.</span>pid <span class="token operator">=</span> cte<span class="token punctuation">.</span>id
<span class="token punctuation">)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> CteDept<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+------+--------+----------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> pid  <span class="token operator">|</span> npname <span class="token operator">|</span> dname    <span class="token operator">|</span> d    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+--------+----------+------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>        <span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>        <span class="token operator">|</span> ê°œë°œë¶€   <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…ë¶€ <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€  <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…ë¶€ <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€  <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…ë¶€ <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€  <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> ê°œë°œë¶€ <span class="token operator">|</span> ì„œë²„íŒ€   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> ê°œë°œë¶€ <span class="token operator">|</span> í´ë¼íŒ€   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">9</span> <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> ì„œë²„íŒ€ <span class="token operator">|</span> ì¸í”„ë¼ì…€ <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> ì„œë²„íŒ€ <span class="token operator">|</span> DBì…€     <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span> í´ë¼íŒ€ <span class="token operator">|</span> ëª¨ë°”ì¼ì…€ <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+--------+----------+------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="á„á…³á„…á…µ-á„€á…®á„Œá…©á„…á…©-á„Œá…©á„’á…¬"><a href="#á„á…³á„…á…µ-á„€á…®á„Œá…©á„…á…©-á„Œá…©á„’á…¬" class="header-anchor">#</a> íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ì¡°íšŒ</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WITH</span> RECURSIVE CteDept <span class="token punctuation">(</span>id<span class="token punctuation">,</span> pid<span class="token punctuation">,</span> npname<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> d<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token keyword">AS</span> 
<span class="token punctuation">(</span>
  <span class="token keyword">select</span> id<span class="token punctuation">,</span> pid<span class="token punctuation">,</span> cast<span class="token punctuation">(</span><span class="token string">''</span> <span class="token keyword">as</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dname<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> cast<span class="token punctuation">(</span>id <span class="token keyword">as</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> Dept <span class="token keyword">where</span> pid <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
  <span class="token keyword">select</span> d<span class="token punctuation">.</span>id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>pid<span class="token punctuation">,</span> cte<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>  d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> concat<span class="token punctuation">(</span>cte<span class="token punctuation">.</span>h<span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> Dept d <span class="token keyword">inner</span> <span class="token keyword">join</span> CteDept cte <span class="token keyword">on</span> d<span class="token punctuation">.</span>pid <span class="token operator">=</span> cte<span class="token punctuation">.</span>id
<span class="token punctuation">)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> CteDept <span class="token keyword">order</span> <span class="token keyword">by</span> h<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+------+--------+----------+------+--------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> pid  <span class="token operator">|</span> npname <span class="token operator">|</span> dname    <span class="token operator">|</span> d    <span class="token operator">|</span> h      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+--------+----------+------+--------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>        <span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…ë¶€ <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€  <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token operator">-</span><span class="token number">3</span>    <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…ë¶€ <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€  <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token operator">-</span><span class="token number">4</span>    <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> ì˜ì—…ë¶€ <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€  <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token operator">-</span><span class="token number">5</span>    <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>        <span class="token operator">|</span> ê°œë°œë¶€   <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">2</span>      <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> ê°œë°œë¶€ <span class="token operator">|</span> ì„œë²„íŒ€   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token operator">-</span><span class="token number">6</span>    <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> ì„œë²„íŒ€ <span class="token operator">|</span> DBì…€     <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token operator">-</span><span class="token number">6</span><span class="token operator">-</span><span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">9</span> <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> ì„œë²„íŒ€ <span class="token operator">|</span> ì¸í”„ë¼ì…€ <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token operator">-</span><span class="token number">6</span><span class="token operator">-</span><span class="token number">9</span>  <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> ê°œë°œë¶€ <span class="token operator">|</span> í´ë¼íŒ€   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token operator">-</span><span class="token number">7</span>    <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span> í´ë¼íŒ€ <span class="token operator">|</span> ëª¨ë°”ì¼ì…€ <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2</span><span class="token operator">-</span><span class="token number">7</span><span class="token operator">-</span><span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+--------+----------+------+--------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="á„Œá…¢á„€á…±-á„’á…¬á†ºá„‰á…®-á„Œá…¦á„’á…¡á†«á„’á…¡á„€á…µ"><a href="#á„Œá…¢á„€á…±-á„’á…¬á†ºá„‰á…®-á„Œá…¦á„’á…¡á†«á„’á…¡á„€á…µ" class="header-anchor">#</a> ì¬ê·€ íšŸìˆ˜ ì œí•œí•˜ê¸°</h3> <p><b><u>sessionìœ¼ë¡œ íšŸìˆ˜ ì œí•œ</u></b></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token keyword">SESSION</span> cte_max_recursion_depth <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">-- ì¬ê·€ ì‹¤í–‰ ì œí•œ</span>
<span class="token keyword">WITH</span> RECURSIVE cte <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">AS</span>
<span class="token punctuation">(</span>
  <span class="token keyword">SELECT</span> <span class="token number">1</span>
  <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
  <span class="token keyword">SELECT</span> n <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">FROM</span> cte <span class="token comment">-- limit 21 ê¹Œì§€ ê°€ëŠ¥</span>
<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> cte<span class="token punctuation">;</span>

<span class="token comment">-- 20ë²ˆ ì´ìƒ ì‹¤í–‰ë˜ê¸°ë•Œë¬¸ì— ë£¨í”„ì— ë¹ ì§€ì§€ ì•Šë„ë¡ ì—ëŸ¬ê°€ ë°œìƒëœë‹¤. </span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="vuepress"></p> <p><b><u>ì£¼ì„ íŒíŠ¸ë¡œ ì œí•œ</u></b></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token keyword">SESSION</span> cte_max_recursion_depth <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">-- ì¬ê·€ ì‹¤í–‰ ì œí•œ</span>
<span class="token keyword">WITH</span> RECURSIVE cte <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">AS</span>
<span class="token punctuation">(</span>
  <span class="token keyword">SELECT</span> <span class="token number">1</span>
  <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
  <span class="token keyword">SELECT</span> n <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">FROM</span> cte <span class="token keyword">limit</span> <span class="token number">21</span>
<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token comment">/*+ SET_VAR(cte_max_recursion_depth = 10) */</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> cte<span class="token punctuation">;</span> <span class="token comment">-- HINT! ìœ„ì— sessionë³´ë‹¤ ìš°ì„ ..</span>

<span class="token comment">-- 11ë²ˆ ê¹Œì§€ë§Œ ê°€ëŠ¥í•˜ë‹¤ê³  ì—ëŸ¬ê°€ ë°œìƒë¨.</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="vuepress"></p> <h2 id="á„‹á…±á†«á„ƒá…©á„‹á…®-á„’á…¡á†·á„‰á…®"><a href="#á„‹á…±á†«á„ƒá…©á„‹á…®-á„’á…¡á†·á„‰á…®" class="header-anchor">#</a> ìœˆë„ìš° í•¨ìˆ˜</h2> <p><a href="https://dev.mysql.com/doc/refman/8.0/en/window-function-descriptions.html" target="_blank" rel="noopener noreferrer">ì°¸ê³ <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="windowfunc-over-partition-by-á„€á…³á„…á…®á†¸-order-by-á„Œá…¥á†¼á„…á…§á†¯á„€á…µá„Œá…®á†«-á„‹á…µá„…á…¥á‡‚á„€á…¦-á„‰á…¡á„‹á…­á†¼á„’á…¡á†«á„ƒá…¡"><a href="#windowfunc-over-partition-by-á„€á…³á„…á…®á†¸-order-by-á„Œá…¥á†¼á„…á…§á†¯á„€á…µá„Œá…®á†«-á„‹á…µá„…á…¥á‡‚á„€á…¦-á„‰á…¡á„‹á…­á†¼á„’á…¡á†«á„ƒá…¡" class="header-anchor">#</a> windowFunc() over(PARTITION BY ê·¸ë£¹ ORDER BY ì •ë ¬ê¸°ì¤€) ì´ë ‡ê²Œ ì‚¬ìš©í•œë‹¤.</h3> <div class="custom-block tip"><p class="custom-block-title">Window Function - 1</p> <p><img src="/assets/img/13.a9c998c9.png" alt="vuepress"></p> <table><thead><tr><th>í•¨ìˆ˜</th> <th>ì„¤ëª…</th></tr></thead> <tbody><tr><td><code>ROW_NUMBER()</code></td> <td>ì „ì²´ ê²°ê³¼ì—ì„œ íŒŒí‹°ì…˜ ê¸°ì¤€ ì¶œë ¥ë˜ëŠ” í–‰ ë²ˆí˜¸(ìˆœë²ˆ)</td></tr> <tr><td><code>RANK()</code></td> <td>ê°’ì˜ ë­í‚¹(ìˆœìœ„), ê³µë™ ë­í‚¹ì€ ë™ì¼ê°’ì„ ë³´ì´ë©° ë‹¤ìŒ ë­í‚¹ì€ ê³µë™ ë­í‚¹ì„ ê±´ë„ˆë›°ì–´ í‘œì‹œ</td></tr> <tr><td><code>DESNE_RANK()</code></td> <td>RANK() í•¨ìˆ˜ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì´ì§€ë§Œ ê³µë™ ë­í‚¹ì„ ê±´ë„ˆë›°ì§€ ì•ŠëŠ”ë‹¤.</td></tr> <tr><td><code>PERCENT_RANK()</code></td> <td>ë­í‚¹ì„ ë°±ë¶„ìœ¨ë¡œ ë‚˜íƒ€ë‚¸ë‹¤. íŒŒí‹°ì…˜ ë‚´ì—ì„œ ìœ„ì¹˜í•˜ëŠ” ë­í‚¹ì˜ %.</td></tr> <tr><td><code>CUME_DIST()</code></td> <td>íŒŒí‹°ì…˜ ë‚´ ì°¨ì§€ í•˜ëŠ” ìœ„ì¹˜ë¥¼ ëˆ„ì (cumulative)ëœ ê±°ë¦¬ë¥¼ %ë¡œ ë‚˜íƒ€ë‚´ì–´ ê·¸ë˜í”„ë¥¼ ê·¸ë¦°ë‹¤ë©´ ê²½ê³„(outbound)ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.</td></tr> <tr><td><code>NTILE(n)</code></td> <td>íŒŒí‹°ì…˜ ë‚´ ë¡œìš°ë“¤ì„ n ê°œì˜ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆ´ì„ ë•Œ ê·¸ë£¹ ë²ˆí˜¸. ë³´í†µ ìˆœì„œì— ë§ì¶° ê·¸ë£¹(ì˜ì—­)ì„ ë‚˜ëˆŒ ë•Œ ì‚¬ìš©</td></tr></tbody></table></div> <div class="custom-block tip"><p class="custom-block-title">Window Function - 2</p> <p><img src="/assets/img/14.a725c07b.png" alt="vuepress"></p> <table><thead><tr><th>í•¨ìˆ˜</th> <th>ì„¤ëª…</th></tr></thead> <tbody><tr><td><code>FIRST_VALUE(col)</code></td> <td>íŒŒí‹°ì…˜ ë‚´ ì²«ë²ˆì§¸ col ì»¬ëŸ¼ì˜ ê°’</td></tr> <tr><td><code>LAST_VALUE(col)</code></td> <td>íŒŒí‹°ì…˜ ë‚´ ë§ˆì§€ë§‰ col ì»¬ëŸ¼ì˜ ê°’</td></tr> <tr><td><code>NTH_VALUE(col, n)</code></td> <td>íŒŒí‹°ì…˜ ë‚´ në²ˆì§¸ col ì»¬ëŸ¼ì˜ ê°’</td></tr> <tr><td><code>LAG(n)</code></td> <td>í˜„ì¬ í–‰ ê¸°ì¤€ ì•(ì´ì „) n ë²ˆì§¸ ê°’</td></tr> <tr><td><code>LEAD(n)</code></td> <td>í˜„ì¬ í–‰ ê¸°ì¤€ ë’¤(ë‹¤ìŒ) n ë²ˆì§¸ ê°’</td></tr></tbody></table></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> row_number<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">order</span> <span class="token keyword">by</span> dept<span class="token punctuation">,</span> salary <span class="token keyword">desc</span><span class="token punctuation">)</span> <span class="token string">'ìˆœë²ˆ'</span><span class="token punctuation">,</span>
    e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
    rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ë¶€ì„œë‚´ ìˆœìœ„'</span><span class="token punctuation">,</span>
    dense_rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ë¶€ì„œë‚´ ìˆœìœ„'</span><span class="token punctuation">,</span>
    percent_rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ë¶€ì„œë‚´ %ìˆœìœ„'</span><span class="token punctuation">,</span>
    cume_dist<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ë¶€ì„œë‚´ %ê²½ê³„'</span><span class="token punctuation">,</span>
    ntile<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ê¸‰ì—¬ë“±ê¸‰'</span>
  <span class="token keyword">from</span> Emp e
<span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'ë°•%'</span>
WINDOW w <span class="token keyword">as</span> <span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dept <span class="token keyword">order</span> <span class="token keyword">by</span> dept<span class="token punctuation">,</span> salary <span class="token keyword">desc</span><span class="token punctuation">)</span> <span class="token comment">-- ì´ê±¸ ì¨ì£¼ë©´ over()ë¥¼ ì¨ì£¼ì§€ ì•Šì•„ë„ ëœë‹¤.</span>
<span class="token punctuation">;</span>

 <span class="token operator">+</span><span class="token comment">------+-----+--------+------+--------+-------------+-------------+--------------------+---------------------+----------+</span>
<span class="token operator">|</span> ìˆœë²ˆ <span class="token operator">|</span> id  <span class="token operator">|</span> ename  <span class="token operator">|</span> dept <span class="token operator">|</span> salary <span class="token operator">|</span> ë¶€ì„œë‚´ ìˆœìœ„ <span class="token operator">|</span> ë¶€ì„œë‚´ ìˆœìœ„ <span class="token operator">|</span> ë¶€ì„œë‚´ <span class="token operator">%</span>ìˆœìœ„       <span class="token operator">|</span> ë¶€ì„œë‚´ <span class="token operator">%</span>ê²½ê³„        <span class="token operator">|</span> ê¸‰ì—¬ë“±ê¸‰ <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----+--------+------+--------+-------------+-------------+--------------------+---------------------+----------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">169</span> <span class="token operator">|</span> ë°•êµ­ê²° <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>                  <span class="token number">0</span> <span class="token operator">|</span>  <span class="token number">0.3333333333333333</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">105</span> <span class="token operator">|</span> ë°•í˜¸ë§ˆ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span>                <span class="token number">0.5</span> <span class="token operator">|</span>  <span class="token number">0.6666666666666666</span> <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">137</span> <span class="token operator">|</span> ë°•ìˆœë‹¤ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>                  <span class="token number">1</span> <span class="token operator">|</span>                   <span class="token number">1</span> <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">147</span> <span class="token operator">|</span> ë°•ì„¸ì°¨ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>                  <span class="token number">0</span> <span class="token operator">|</span>                <span class="token number">0.25</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">145</span> <span class="token operator">|</span> ë°•ë¯¼ë§ˆ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">0.3333333333333333</span> <span class="token operator">|</span>                 <span class="token number">0.5</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>  <span class="token number">82</span> <span class="token operator">|</span> ë°•ì‚¬ê°€ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">0.6666666666666666</span> <span class="token operator">|</span>                   <span class="token number">1</span> <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span> <span class="token number">237</span> <span class="token operator">|</span> ë°•ë¯¼ì‚¬ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">0.6666666666666666</span> <span class="token operator">|</span>                   <span class="token number">1</span> <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">8</span> <span class="token operator">|</span> <span class="token number">143</span> <span class="token operator">|</span> ë°•ë‹¤ë§ˆ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>                  <span class="token number">0</span> <span class="token operator">|</span>                 <span class="token number">0.5</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">9</span> <span class="token operator">|</span> <span class="token number">165</span> <span class="token operator">|</span> ë°•ìˆœêµ­ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">300</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span>                  <span class="token number">1</span> <span class="token operator">|</span>                   <span class="token number">1</span> <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span>  <span class="token number">43</span> <span class="token operator">|</span> ë°•ì•„ë‹¤ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>                  <span class="token number">0</span> <span class="token operator">|</span>  <span class="token number">0.3333333333333333</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>  <span class="token number">44</span> <span class="token operator">|</span> ë°•ì¢…ì§€ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>                  <span class="token number">0</span> <span class="token operator">|</span>  <span class="token number">0.3333333333333333</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">71</span> <span class="token operator">|</span> ë°•í˜¸ë¯¼ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span>                <span class="token number">0.4</span> <span class="token operator">|</span>                 <span class="token number">0.5</span> <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span> <span class="token number">241</span> <span class="token operator">|</span> ë°•ë§ˆì°¬ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>           <span class="token number">4</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>                <span class="token number">0.6</span> <span class="token operator">|</span>  <span class="token number">0.6666666666666666</span> <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">14</span> <span class="token operator">|</span>  <span class="token number">93</span> <span class="token operator">|</span> ë°•ë°”í˜¸ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">300</span> <span class="token operator">|</span>           <span class="token number">5</span> <span class="token operator">|</span>           <span class="token number">4</span> <span class="token operator">|</span>                <span class="token number">0.8</span> <span class="token operator">|</span>  <span class="token number">0.8333333333333334</span> <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">15</span> <span class="token operator">|</span> <span class="token number">114</span> <span class="token operator">|</span> ë°•êµ­ìˆœ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>           <span class="token number">6</span> <span class="token operator">|</span>           <span class="token number">5</span> <span class="token operator">|</span>                  <span class="token number">1</span> <span class="token operator">|</span>                   <span class="token number">1</span> <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">16</span> <span class="token operator">|</span>  <span class="token number">49</span> <span class="token operator">|</span> ë°•ì‹ ë‹¤ <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>           <span class="token number">1</span> <span class="token operator">|</span>                  <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">0.16666666666666666</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">17</span> <span class="token operator">|</span> <span class="token number">223</span> <span class="token operator">|</span> ë°•ì°¨ê²° <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span>           <span class="token number">2</span> <span class="token operator">|</span>                <span class="token number">0.2</span> <span class="token operator">|</span>  <span class="token number">0.3333333333333333</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">18</span> <span class="token operator">|</span>  <span class="token number">47</span> <span class="token operator">|</span> ë°•ë¯¼ì <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">600</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>                <span class="token number">0.4</span> <span class="token operator">|</span>                 <span class="token number">0.5</span> <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">19</span> <span class="token operator">|</span>  <span class="token number">37</span> <span class="token operator">|</span> ë°•ìë§ˆ <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">500</span> <span class="token operator">|</span>           <span class="token number">4</span> <span class="token operator">|</span>           <span class="token number">4</span> <span class="token operator">|</span>                <span class="token number">0.6</span> <span class="token operator">|</span>  <span class="token number">0.6666666666666666</span> <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">20</span> <span class="token operator">|</span>  <span class="token number">21</span> <span class="token operator">|</span> ë°•êµ­ì„¸ <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>           <span class="token number">5</span> <span class="token operator">|</span>           <span class="token number">5</span> <span class="token operator">|</span>                <span class="token number">0.8</span> <span class="token operator">|</span>                   <span class="token number">1</span> <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">21</span> <span class="token operator">|</span> <span class="token number">238</span> <span class="token operator">|</span> ë°•ì°¨ê²° <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>           <span class="token number">5</span> <span class="token operator">|</span>           <span class="token number">5</span> <span class="token operator">|</span>                <span class="token number">0.8</span> <span class="token operator">|</span>                   <span class="token number">1</span> <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----+--------+------+--------+-------------+-------------+--------------------+---------------------+----------+</span>
<span class="token number">21</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> row_number<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">order</span> <span class="token keyword">by</span> dept<span class="token punctuation">,</span> salary <span class="token keyword">desc</span><span class="token punctuation">)</span> <span class="token string">'ìˆœë²ˆ'</span><span class="token punctuation">,</span>
    e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
    <span class="token function">sum</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ê¸‰ì—¬ ëˆ„ì ì¹˜'</span><span class="token punctuation">,</span>
    first_value<span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ë¶€ì„œë‚´ 1ë“± ê¸‰ì—¬'</span><span class="token punctuation">,</span>
    last_value<span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ë¶€ì„œë‚´ í˜„ì¬ê¹Œì§€ì˜ ê¼´ë“± ê¸‰ì—¬'</span><span class="token punctuation">,</span>
    nth_value<span class="token punctuation">(</span>salary<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ë¶€ì„œë‚´ 2ë“± ê¸‰ì—¬'</span><span class="token punctuation">,</span>
    lag<span class="token punctuation">(</span>salary<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ì´ì „ ê¸‰ì—¬'</span><span class="token punctuation">,</span>
    lead<span class="token punctuation">(</span>salary<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">over</span> w <span class="token string">'ë‹¤ìŒ ê¸‰ì—¬'</span>
  <span class="token keyword">from</span> Emp e
<span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'ë°•%'</span>
WINDOW w <span class="token keyword">as</span> <span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dept <span class="token keyword">order</span> <span class="token keyword">by</span> dept<span class="token punctuation">,</span> salary <span class="token keyword">desc</span><span class="token punctuation">)</span> <span class="token comment">-- ì´ê±¸ ì¨ì£¼ë©´ over()ë¥¼ ì¨ì£¼ì§€ ì•Šì•„ë„ ëœë‹¤.</span>
<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+-----+--------+------+--------+-------------+-----------------+-----------------------------+-----------------+-----------+-----------+</span>
<span class="token operator">|</span> ìˆœë²ˆ <span class="token operator">|</span> id  <span class="token operator">|</span> ename  <span class="token operator">|</span> dept <span class="token operator">|</span> salary <span class="token operator">|</span> ê¸‰ì—¬ ëˆ„ì ì¹˜ <span class="token operator">|</span> ë¶€ì„œë‚´ <span class="token number">1</span>ë“± ê¸‰ì—¬ <span class="token operator">|</span> ë¶€ì„œë‚´ í˜„ì¬ê¹Œì§€ì˜ ê¼´ë“± ê¸‰ì—¬ <span class="token operator">|</span> ë¶€ì„œë‚´ <span class="token number">2</span>ë“± ê¸‰ì—¬ <span class="token operator">|</span> ì´ì „ ê¸‰ì—¬ <span class="token operator">|</span> ë‹¤ìŒ ê¸‰ì—¬ <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----+--------+------+--------+-------------+-----------------+-----------------------------+-----------------+-----------+-----------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">169</span> <span class="token operator">|</span> ë°•êµ­ê²° <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>         <span class="token number">900</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">900</span> <span class="token operator">|</span>            <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>       <span class="token number">700</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">105</span> <span class="token operator">|</span> ë°•í˜¸ë§ˆ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>        <span class="token number">1600</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">700</span> <span class="token operator">|</span>             <span class="token number">700</span> <span class="token operator">|</span>       <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">400</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">137</span> <span class="token operator">|</span> ë°•ìˆœë‹¤ <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span>        <span class="token number">2000</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">400</span> <span class="token operator">|</span>             <span class="token number">700</span> <span class="token operator">|</span>       <span class="token number">700</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">147</span> <span class="token operator">|</span> ë°•ì„¸ì°¨ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>         <span class="token number">900</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">900</span> <span class="token operator">|</span>            <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>       <span class="token number">800</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">145</span> <span class="token operator">|</span> ë°•ë¯¼ë§ˆ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>        <span class="token number">1700</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">800</span> <span class="token operator">|</span>             <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">700</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>  <span class="token number">82</span> <span class="token operator">|</span> ë°•ì‚¬ê°€ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>        <span class="token number">3100</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">700</span> <span class="token operator">|</span>             <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">700</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span> <span class="token number">237</span> <span class="token operator">|</span> ë°•ë¯¼ì‚¬ <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>        <span class="token number">3100</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">700</span> <span class="token operator">|</span>             <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">700</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">8</span> <span class="token operator">|</span> <span class="token number">143</span> <span class="token operator">|</span> ë°•ë‹¤ë§ˆ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>         <span class="token number">700</span> <span class="token operator">|</span>             <span class="token number">700</span> <span class="token operator">|</span>                         <span class="token number">700</span> <span class="token operator">|</span>            <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>       <span class="token number">300</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">9</span> <span class="token operator">|</span> <span class="token number">165</span> <span class="token operator">|</span> ë°•ìˆœêµ­ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">300</span> <span class="token operator">|</span>        <span class="token number">1000</span> <span class="token operator">|</span>             <span class="token number">700</span> <span class="token operator">|</span>                         <span class="token number">300</span> <span class="token operator">|</span>             <span class="token number">300</span> <span class="token operator">|</span>       <span class="token number">700</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span>  <span class="token number">43</span> <span class="token operator">|</span> ë°•ì•„ë‹¤ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>        <span class="token number">1800</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">900</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>       <span class="token number">900</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>  <span class="token number">44</span> <span class="token operator">|</span> ë°•ì¢…ì§€ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>        <span class="token number">1800</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">900</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">800</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">71</span> <span class="token operator">|</span> ë°•í˜¸ë¯¼ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>        <span class="token number">2600</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">800</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">700</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span> <span class="token number">241</span> <span class="token operator">|</span> ë°•ë§ˆì°¬ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">700</span> <span class="token operator">|</span>        <span class="token number">3300</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">700</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">300</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">14</span> <span class="token operator">|</span>  <span class="token number">93</span> <span class="token operator">|</span> ë°•ë°”í˜¸ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">300</span> <span class="token operator">|</span>        <span class="token number">3600</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">300</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">700</span> <span class="token operator">|</span>       <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">15</span> <span class="token operator">|</span> <span class="token number">114</span> <span class="token operator">|</span> ë°•êµ­ìˆœ <span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span>    <span class="token number">100</span> <span class="token operator">|</span>        <span class="token number">3700</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">100</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">300</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">16</span> <span class="token operator">|</span>  <span class="token number">49</span> <span class="token operator">|</span> ë°•ì‹ ë‹¤ <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">900</span> <span class="token operator">|</span>         <span class="token number">900</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">900</span> <span class="token operator">|</span>            <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>       <span class="token number">800</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">17</span> <span class="token operator">|</span> <span class="token number">223</span> <span class="token operator">|</span> ë°•ì°¨ê²° <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">800</span> <span class="token operator">|</span>        <span class="token number">1700</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">800</span> <span class="token operator">|</span>             <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">900</span> <span class="token operator">|</span>       <span class="token number">600</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">18</span> <span class="token operator">|</span>  <span class="token number">47</span> <span class="token operator">|</span> ë°•ë¯¼ì <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">600</span> <span class="token operator">|</span>        <span class="token number">2300</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">600</span> <span class="token operator">|</span>             <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">500</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">19</span> <span class="token operator">|</span>  <span class="token number">37</span> <span class="token operator">|</span> ë°•ìë§ˆ <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">500</span> <span class="token operator">|</span>        <span class="token number">2800</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">500</span> <span class="token operator">|</span>             <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">600</span> <span class="token operator">|</span>       <span class="token number">200</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">20</span> <span class="token operator">|</span>  <span class="token number">21</span> <span class="token operator">|</span> ë°•êµ­ì„¸ <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>        <span class="token number">3200</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">200</span> <span class="token operator">|</span>             <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">500</span> <span class="token operator">|</span>       <span class="token number">200</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">21</span> <span class="token operator">|</span> <span class="token number">238</span> <span class="token operator">|</span> ë°•ì°¨ê²° <span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>        <span class="token number">3200</span> <span class="token operator">|</span>             <span class="token number">900</span> <span class="token operator">|</span>                         <span class="token number">200</span> <span class="token operator">|</span>             <span class="token number">800</span> <span class="token operator">|</span>       <span class="token number">200</span> <span class="token operator">|</span>      <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----+--------+------+--------+-------------+-----------------+-----------------------------+-----------------+-----------+-----------+</span>
<span class="token number">21</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="json-á„ƒá…¦á„‹á…µá„á…¥-á„ƒá…¡á„…á…®á„€á…µ"><a href="#json-á„ƒá…¦á„‹á…µá„á…¥-á„ƒá…¡á„…á…®á„€á…µ" class="header-anchor">#</a> JSON ë°ì´í„° ë‹¤ë£¨ê¸°</h2> <table><thead><tr><th>JSON í•¨ìˆ˜</th> <th>ì„¤ëª…</th></tr></thead> <tbody><tr><td><code>JSON_VALID()</code></td> <td>ë°ì´í„°ì˜ ìœ íš¨ì„± ê²€ì‚¬</td></tr> <tr><td><code>JSON_PRETTY()</code></td> <td>ë“¤ì—¬ì“°ê¸°ë¥¼ í¬í•¨í•´ ë³´ê¸° ì¢‹ê²Œ JSON ë°ì´í„° ì¶œë ¥</td></tr> <tr><td><code>JSON_OBJECT()</code></td> <td>ë¬¸ìì—´ í˜•íƒœê°€ ì•„ë‹Œ key, value ìŒìœ¼ë¡œ JSON ë°ì´í„° ë§Œë“¤ê¸°</td></tr> <tr><td><code>JSON_ARRAY()</code></td> <td>JSON ë°ì´í„°ë¥¼ ë°°ì—´(Array) í˜•íƒœë¡œ ì‘ì„± ë° ë³€í™˜</td></tr> <tr><td><code>JSON_EXTRACT()</code></td> <td>ì¸ë¼ì¸ íŒ¨ìŠ¤(-&gt;)ì™€ ê°™ì´ íŠ¹ì • ê°’ë§Œ ë½‘ì•„ ì¶”ì¶œ</td></tr> <tr><td><code>JSON_VALUE()</code></td> <td>íŠ¹ì • ê°’ ì¶”ì¶œ, ì¶œë ¥ íƒ€ì… ì •ì˜ ê°€ëŠ¥</td></tr> <tr><td><code>JSON_QUOTE()</code></td> <td>íŠ¹ì • ê°’ ì¶”ì¶œì‹œ ê°’ì˜ ì¢Œìš°ì— í°ë”°ì˜´í‘œ ë¶™ì—¬ì„œ ì¶œë ¥</td></tr> <tr><td><code>JSON_UNQUOTE()</code></td> <td>íŠ¹ì • ê°’ ì¶”ì¶œì‹œ ê°’ì˜ ì¢Œìš°ì— ì¶œë ¥ë˜ëŠ” í°ë”°ì˜´í‘œ ì œê±°</td></tr> <tr><td><code>JSON_LENGTH()</code></td> <td>JSON ë°ì´í„°ì˜ í‚¤ ê°œìˆ˜</td></tr> <tr><td><code>JSON_DEPTH()</code></td> <td>JSON ë°ì´í„°ì˜ ê¹Šì´(ê³„ì¸µ)</td></tr> <tr><td><code>JSON_KEYS()</code></td> <td>JSON ë°ì´í„°ì˜ keyë“¤ë§Œ ì¶”ì¶œ</td></tr> <tr><td><code>JSON_TYPE()</code></td> <td>JSON ë°ì´í„°ì˜ ë°ì´í„° íƒ€ì… ì¶œë ¥</td></tr> <tr><td><code>JSON_SEARCH()</code></td> <td>íŠ¹ì •ê°’ìœ¼ë¡œ JSON íŒ¨ìŠ¤(ìœ„ì¹˜) ê²€ìƒ‰</td></tr> <tr><td><code>JSON_CONTAINS()</code></td> <td>JSON ë°ì´í„°ì— íŠ¹ì • ê°’ì˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸</td></tr> <tr><td><code>JSON_REPLACE()</code></td> <td>JSON ë°ì´í„°ì˜ ê°’ ë¶€ë¶„ ë³€ê²½</td></tr> <tr><td><code>JSON_INSERT()</code></td> <td>JSON ë°ì´í„°ì— íŠ¹ì • key, value ìŒì„ ì¶”ê°€</td></tr> <tr><td><code>JSON_SET()</code></td> <td>JSON ë°ì´í„°ì—ì„œ íŠ¹ì • keyì— í•´ë‹¹ë˜ëŠ” ê°’ë§Œ ë³€ê²½</td></tr> <tr><td><code>JSON_REMOVE()</code></td> <td>JSON ë°ì´í„°ì˜ íŠ¹ì • key, value ì œê±°</td></tr> <tr><td><code>JSON_MERGE()</code></td> <td>ê¸°ì¡´ JSON ë°ì´í„°ì— ê°’ ì¶”ê°€, MySQL 8ì—ì„œ deprecatedë¨</td></tr> <tr><td><code>JSON_MERGE_PRESERVE()</code></td> <td>JSON ë°ì´í„° íŠ¹ì • ìœ„ì¹˜ì˜ ê°’ ë³€ê²½(ê¸°ì¡´ ê°’ ìœ ì§€)</td></tr> <tr><td><code>JSON_MERGE_PATCH()</code></td> <td>JSON ë°ì´í„° íŠ¹ì • ìœ„ì¹˜ì˜ ê°’ ë³€ê²½(ê¸°ì¡´ ê°’ ëŒ€ì¹˜)</td></tr> <tr><td><code>JSON_TABLE()</code></td> <td>JSON ë°ì´í„°ë¥¼ í…Œì´ë¸” í˜•íƒœë¡œ ì •ì˜</td></tr> <tr><td><code>JSON_ARRAYAGG()</code></td> <td>ì „ì²´ JSON ë°ì´í„°ë¥¼ ì·¨í•©(í†µí•©)í•˜ì—¬ ë°°ì—´ë¡œ ì¶œë ¥</td></tr> <tr><td><code>JSON_OBJECTAGG()</code></td> <td>JSON ë°ì´í„°ë¥¼ ì·¨í•©(í†µí•©)í•˜ì—¬ Object í˜•íƒœë¡œ ì¶œë ¥</td></tr> <tr><td><code>JSON_STORAGE_SIZE()</code></td> <td>JSON ë°ì´í„°ê°€ ì°¨ì§€í•˜ëŠ” ë°ì´í„° í¬ê¸°</td></tr> <tr><td><code>JSON_STORAGE_FREE()</code></td> <td>JSON ë°ì´í„° ì»¬ëŸ¼ì˜ ì—¬ìœ ê³µê°„, JSON ë°ì´í„° ìˆìœ¼ë©´ í•­ìƒ 0</td></tr></tbody></table> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> Emp <span class="token keyword">add</span> <span class="token keyword">column</span> remark JSON<span class="token punctuation">;</span>

<span class="token keyword">desc</span> Emp<span class="token punctuation">;</span>

<span class="token keyword">update</span> Emp <span class="token keyword">set</span> remark <span class="token operator">=</span> <span class="token string">'{ &quot;addr&quot;: &quot;ì„œìš¸&quot;}'</span>
  <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  
<span class="token keyword">update</span> Emp <span class="token keyword">set</span> remark <span class="token operator">=</span> <span class="token string">'{&quot;addr&quot;: &quot;ë¶€ì‚°&quot;, &quot;age&quot;: 39}'</span>
 <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 
<span class="token keyword">update</span> Emp <span class="token keyword">set</span> remark <span class="token operator">=</span> <span class="token string">'{&quot;addr&quot;: &quot;ëŒ€êµ¬&quot;, &quot;age&quot;: 29, &quot;family&quot;: [ {&quot;name&quot;: &quot;ë…¼ê°œ&quot;, &quot;relation&quot;: &quot;ëª¨&quot;} ]}'</span>
 <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 
<span class="token keyword">update</span> Emp <span class="token keyword">set</span> remark <span class="token operator">=</span> <span class="token string">'{&quot;addr&quot;: &quot;ê°•ì›&quot;, &quot;age&quot;: 49, &quot;family&quot;: [  {&quot;name&quot;: &quot;ì¡°ì¡°&quot;, &quot;relation&quot;: &quot;ë¶€&quot;},  {&quot;name&quot;: &quot;ë°°ì² ê· &quot;, &quot;relation&quot;: &quot;ëª¨&quot;} ]}'</span>
 <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 
<span class="token keyword">update</span> Emp <span class="token keyword">set</span> remark <span class="token operator">=</span> <span class="token string">'{&quot;addr&quot;: &quot;ì„œìš¸&quot;, &quot;addr&quot;: &quot;ëŒ€ì „&quot;}'</span>
 <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  
 
<span class="token keyword">update</span> Emp <span class="token keyword">set</span> remark <span class="token operator">=</span> json_object<span class="token punctuation">(</span><span class="token string">'addr'</span><span class="token punctuation">,</span> <span class="token string">&quot;ë¶€ì‚°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">)</span>
 <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> Emp <span class="token keyword">set</span> remark <span class="token operator">=</span> json_object<span class="token punctuation">(</span><span class="token string">'addr'</span><span class="token punctuation">,</span> <span class="token string">&quot;ëŒ€êµ¬&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> 
          <span class="token string">&quot;family&quot;</span><span class="token punctuation">,</span> json_array<span class="token punctuation">(</span>
              json_object<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'ë…¼ê°œ'</span><span class="token punctuation">,</span> <span class="token string">'relation'</span><span class="token punctuation">,</span> <span class="token string">'ëª¨'</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">--  {</span>
<span class="token comment">--    &quot;age&quot;: 48,</span>
<span class="token comment">--    &quot;addr&quot;: &quot;ê°•ì›&quot;,</span>
<span class="token comment">--    &quot;family&quot;: [</span>
<span class="token comment">--      {</span>
<span class="token comment">--        &quot;name&quot;: &quot;ì¡°ì¡°&quot;,</span>
<span class="token comment">--        &quot;relation&quot;: &quot;ë¶€&quot;</span>
<span class="token comment">--      },</span>
<span class="token comment">--      {</span>
<span class="token comment">--        &quot;name&quot;: &quot;ë°°ì² ê· &quot;,</span>
<span class="token comment">--        &quot;relation&quot;: &quot;ëª¨&quot;</span>
<span class="token comment">--      }</span>
<span class="token comment">--    ]</span>
<span class="token comment">--  }</span>
<span class="token keyword">update</span> Emp <span class="token keyword">set</span> remark <span class="token operator">=</span> json_object<span class="token punctuation">(</span><span class="token string">'addr'</span><span class="token punctuation">,</span> <span class="token string">&quot;ê°•ì›&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> 
          <span class="token string">&quot;family&quot;</span><span class="token punctuation">,</span> json_array<span class="token punctuation">(</span>
              json_object<span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ì¡°ì¡°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ë¶€&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
              json_object<span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ë°°ì² ê· &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ëª¨&quot;</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">JSON ê°’ ì¶”ì¶œ</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> remark<span class="token punctuation">,</span>
  remark<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'$.addr'</span><span class="token punctuation">,</span> <span class="token comment">-- $ëŠ” ë£¨íŠ¸</span>
  remark<span class="token operator">-</span><span class="token operator">&gt;&gt;</span><span class="token string">'$.addr'</span><span class="token punctuation">,</span> <span class="token comment">-- &gt;&gt; êº½ìƒˆê°€ ë‘ê°œë©´ ìŒë”°ì˜´í‘œê°€ ì—†ì–´ì§„ë‹¤.</span>
  json_value<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.addr'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  json_value<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.age'</span> <span class="token keyword">returning</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">-- remark ë‚˜ì˜¤ê¸° ì „..</span>
  json_extract<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.addr'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  json_unquote<span class="token punctuation">(</span>json_extract<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.addr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> Emp
<span class="token keyword">where</span> remark <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+------------------+-------------------+------------------------------+----------------------------------------------------+--------------------------------+----------------------------------------------+</span>
<span class="token operator">|</span> remark                                                                                                            <span class="token operator">|</span> remark<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'$.addr'</span> <span class="token operator">|</span> remark<span class="token operator">-</span><span class="token operator">&gt;&gt;</span><span class="token string">'$.addr'</span> <span class="token operator">|</span> json_value<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.addr'</span><span class="token punctuation">)</span> <span class="token operator">|</span> json_value<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.age'</span> <span class="token keyword">returning</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> json_extract<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.addr'</span><span class="token punctuation">)</span> <span class="token operator">|</span> json_unquote<span class="token punctuation">(</span>json_extract<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.addr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+------------------+-------------------+------------------------------+----------------------------------------------------+--------------------------------+----------------------------------------------+</span>
<span class="token operator">|</span> {<span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ëŒ€ì „&quot;</span>}                                                                                                  <span class="token operator">|</span> <span class="token string">&quot;ëŒ€ì „&quot;</span>           <span class="token operator">|</span> ëŒ€ì „              <span class="token operator">|</span> ëŒ€ì „                         <span class="token operator">|</span>                                               <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token string">&quot;ëŒ€ì „&quot;</span>                         <span class="token operator">|</span> ëŒ€ì „                                         <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ë¶€ì‚°&quot;</span>}                                                                                       <span class="token operator">|</span> <span class="token string">&quot;ë¶€ì‚°&quot;</span>           <span class="token operator">|</span> ë¶€ì‚°              <span class="token operator">|</span> ë¶€ì‚°                         <span class="token operator">|</span>                                              <span class="token number">38.00</span> <span class="token operator">|</span> <span class="token string">&quot;ë¶€ì‚°&quot;</span>                         <span class="token operator">|</span> ë¶€ì‚°                                         <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ëŒ€êµ¬&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë…¼ê°œ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>}                                       <span class="token operator">|</span> <span class="token string">&quot;ëŒ€êµ¬&quot;</span>           <span class="token operator">|</span> ëŒ€êµ¬              <span class="token operator">|</span> ëŒ€êµ¬                         <span class="token operator">|</span>                                              <span class="token number">28.00</span> <span class="token operator">|</span> <span class="token string">&quot;ëŒ€êµ¬&quot;</span>                         <span class="token operator">|</span> ëŒ€êµ¬                                         <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ê°•ì›&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ì¡°ì¡°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ë¶€&quot;</span>}<span class="token punctuation">,</span> {<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë°°ì² ê· &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>} <span class="token operator">|</span> <span class="token string">&quot;ê°•ì›&quot;</span>           <span class="token operator">|</span> ê°•ì›              <span class="token operator">|</span> ê°•ì›                         <span class="token operator">|</span>                                              <span class="token number">48.00</span> <span class="token operator">|</span> <span class="token string">&quot;ê°•ì›&quot;</span>                         <span class="token operator">|</span> ê°•ì›                                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+------------------+-------------------+------------------------------+----------------------------------------------------+--------------------------------+----------------------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div></div> <div class="custom-block tip"><p class="custom-block-title">JSON ê²€ìƒ‰</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> remark<span class="token punctuation">,</span>
  json_search<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'ë¶€ì‚°'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- ê²°ê³¼ë¡œ pathë¥¼ ì•Œë ¤ì¤€ë‹¤.</span>
  json_search<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'ë°°ì² ê· '</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  json_value<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">&quot;$.family[0].name&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> Emp
<span class="token keyword">where</span> remark <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+------------------------------------+--------------------------------------+----------------------------------------+</span>
<span class="token operator">|</span> remark                                                                                                            <span class="token operator">|</span> json_search<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'ë¶€ì‚°'</span><span class="token punctuation">)</span> <span class="token operator">|</span> json_search<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'ë°°ì² ê· '</span><span class="token punctuation">)</span> <span class="token operator">|</span> json_value<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">&quot;$.family[0].name&quot;</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+------------------------------------+--------------------------------------+----------------------------------------+</span>
<span class="token operator">|</span> {<span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ëŒ€ì „&quot;</span>}                                                                                                  <span class="token operator">|</span> <span class="token boolean">NULL</span>                               <span class="token operator">|</span> <span class="token boolean">NULL</span>                                 <span class="token operator">|</span> <span class="token boolean">NULL</span>                                   <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ë¶€ì‚°&quot;</span>}                                                                                       <span class="token operator">|</span> <span class="token string">&quot;$.addr&quot;</span>                           <span class="token operator">|</span> <span class="token boolean">NULL</span>                                 <span class="token operator">|</span> <span class="token boolean">NULL</span>                                   <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ëŒ€êµ¬&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë…¼ê°œ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>}                                       <span class="token operator">|</span> <span class="token boolean">NULL</span>                               <span class="token operator">|</span> <span class="token boolean">NULL</span>                                 <span class="token operator">|</span> ë…¼ê°œ                                   <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ê°•ì›&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ì¡°ì¡°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ë¶€&quot;</span>}<span class="token punctuation">,</span> {<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë°°ì² ê· &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>} <span class="token operator">|</span> <span class="token boolean">NULL</span>                               <span class="token operator">|</span> <span class="token string">&quot;$.family[1].name&quot;</span>                   <span class="token operator">|</span> ì¡°ì¡°                                   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+------------------------------------+--------------------------------------+----------------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div></div> <div class="custom-block tip"><p class="custom-block-title">JSON ê²€ìƒ‰ 2</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> remark<span class="token punctuation">,</span>
    json_contains<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'&quot;ë¶€ì‚°&quot;'</span><span class="token punctuation">,</span> <span class="token string">'$.addr'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    json_contains<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'48'</span><span class="token punctuation">,</span> <span class="token string">'$.age'</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> Emp
<span class="token keyword">where</span> remark <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+-------------------------------------------+--------------------------------------+</span>
<span class="token operator">|</span> remark                                                                                                            <span class="token operator">|</span> json_contains<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'&quot;ë¶€ì‚°&quot;'</span><span class="token punctuation">,</span> <span class="token string">'$.addr'</span><span class="token punctuation">)</span> <span class="token operator">|</span> json_contains<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'48'</span><span class="token punctuation">,</span> <span class="token string">'$.age'</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+-------------------------------------------+--------------------------------------+</span>
<span class="token operator">|</span> {<span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ëŒ€ì „&quot;</span>}                                                                                                  <span class="token operator">|</span>                                         <span class="token number">0</span> <span class="token operator">|</span>                                 <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ë¶€ì‚°&quot;</span>}                                                                                       <span class="token operator">|</span>                                         <span class="token number">1</span> <span class="token operator">|</span>                                    <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ëŒ€êµ¬&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë…¼ê°œ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>}                                       <span class="token operator">|</span>                                         <span class="token number">0</span> <span class="token operator">|</span>                                    <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ê°•ì›&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ì¡°ì¡°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ë¶€&quot;</span>}<span class="token punctuation">,</span> {<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë°°ì² ê· &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>} <span class="token operator">|</span>                                         <span class="token number">0</span> <span class="token operator">|</span>                                    <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------------------------------------------------------------------+-------------------------------------------+--------------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Emp <span class="token keyword">where</span> json_contains<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'48'</span><span class="token punctuation">,</span> <span class="token string">'$.age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> ename  <span class="token operator">|</span> dept <span class="token operator">|</span> salary <span class="token operator">|</span> remark                                                                                                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> ìµœí˜¸ìˆœ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ê°•ì›&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ì¡°ì¡°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ë¶€&quot;</span>}<span class="token punctuation">,</span> {<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë°°ì² ê· &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>} <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Emp <span class="token keyword">where</span> json_value<span class="token punctuation">(</span>remark<span class="token punctuation">,</span> <span class="token string">'$.age'</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">48</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> ename  <span class="token operator">|</span> dept <span class="token operator">|</span> salary <span class="token operator">|</span> remark                                                                                                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> ìµœí˜¸ìˆœ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ê°•ì›&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ì¡°ì¡°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ë¶€&quot;</span>}<span class="token punctuation">,</span> {<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë°°ì² ê· &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>} <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> Emp <span class="token keyword">where</span> remark<span class="token operator">-</span><span class="token operator">&gt;&gt;</span><span class="token string">'$.age'</span> <span class="token operator">=</span> <span class="token number">48</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> ename  <span class="token operator">|</span> dept <span class="token operator">|</span> salary <span class="token operator">|</span> remark                                                                                                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> ìµœí˜¸ìˆœ <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">400</span> <span class="token operator">|</span> {<span class="token string">&quot;age&quot;</span>: <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&quot;addr&quot;</span>: <span class="token string">&quot;ê°•ì›&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;family&quot;</span>: <span class="token punctuation">[</span>{<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ì¡°ì¡°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ë¶€&quot;</span>}<span class="token punctuation">,</span> {<span class="token string">&quot;name&quot;</span>: <span class="token string">&quot;ë°°ì² ê· &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;relation&quot;</span>: <span class="token string">&quot;ëª¨&quot;</span>}<span class="token punctuation">]</span>} <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+--------+-------------------------------------------------------------------------------------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div></div> <h2 id="rollup"><a href="#rollup" class="header-anchor">#</a> rollup</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> 
  <span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> d<span class="token punctuation">.</span>pid <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">then</span> <span class="token function">max</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>dname<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'Total'</span> <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token string">'ìƒìœ„ë¶€ì„œ'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> d<span class="token punctuation">.</span>id <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">then</span> <span class="token function">max</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>dname<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'- ì†Œê³„ -'</span> <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token string">'ë¶€ì„œëª…'</span><span class="token punctuation">,</span> 
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'ê¸‰ì—¬í•©(ë‹¨ìœ„:ë§Œì›)'</span>
<span class="token keyword">from</span> Dept p <span class="token keyword">inner</span> <span class="token keyword">join</span> Dept d <span class="token keyword">on</span> p<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>pid
            <span class="token keyword">inner</span> <span class="token keyword">join</span> Emp e <span class="token keyword">on</span> d<span class="token punctuation">.</span>id <span class="token operator">=</span> e<span class="token punctuation">.</span>dept
<span class="token keyword">group</span> <span class="token keyword">by</span> d<span class="token punctuation">.</span>pid<span class="token punctuation">,</span> d<span class="token punctuation">.</span>id
<span class="token keyword">with rollup</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+----------+-------------------+</span>
<span class="token operator">|</span> ìƒìœ„ë¶€ì„œ <span class="token operator">|</span> ë¶€ì„œëª…   <span class="token operator">|</span> ê¸‰ì—¬í•©<span class="token punctuation">(</span>ë‹¨ìœ„:ë§Œì›<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+----------+-------------------+</span>
<span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€  <span class="token operator">|</span> <span class="token number">28</span><span class="token punctuation">,</span><span class="token number">600</span>            <span class="token operator">|</span>
<span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€  <span class="token operator">|</span> <span class="token number">24</span><span class="token punctuation">,</span><span class="token number">900</span>            <span class="token operator">|</span>
<span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€  <span class="token operator">|</span> <span class="token number">20</span><span class="token punctuation">,</span><span class="token number">700</span>            <span class="token operator">|</span>
<span class="token operator">|</span> ì˜ì—…ë¶€   <span class="token operator">|</span> <span class="token operator">-</span> ì†Œê³„ <span class="token operator">-</span> <span class="token operator">|</span> <span class="token number">74</span><span class="token punctuation">,</span><span class="token number">200</span>            <span class="token operator">|</span>
<span class="token operator">|</span> ê°œë°œë¶€   <span class="token operator">|</span> ì„œë²„íŒ€   <span class="token operator">|</span> <span class="token number">29</span><span class="token punctuation">,</span><span class="token number">600</span>            <span class="token operator">|</span>
<span class="token operator">|</span> ê°œë°œë¶€   <span class="token operator">|</span> í´ë¼íŒ€   <span class="token operator">|</span> <span class="token number">23</span><span class="token punctuation">,</span><span class="token number">700</span>            <span class="token operator">|</span>
<span class="token operator">|</span> ê°œë°œë¶€   <span class="token operator">|</span> <span class="token operator">-</span> ì†Œê³„ <span class="token operator">-</span> <span class="token operator">|</span> <span class="token number">53</span><span class="token punctuation">,</span><span class="token number">300</span>            <span class="token operator">|</span>
<span class="token operator">|</span> Total    <span class="token operator">|</span> <span class="token operator">-</span> ì†Œê³„ <span class="token operator">-</span> <span class="token operator">|</span> <span class="token number">127</span><span class="token punctuation">,</span><span class="token number">500</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+----------+-------------------+</span>
<span class="token number">8</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="pivot"><a href="#pivot" class="header-anchor">#</a> pivot</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> d<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>dname<span class="token punctuation">)</span> <span class="token string">'êµ¬ë¶„'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'í‰ê· ê¸‰ì—¬'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'ê¸‰ì—¬í•©ê³„'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'ìµœì†Œê¸‰ì—¬'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'ìµœëŒ€ê¸‰ì—¬'</span>
<span class="token keyword">from</span> Dept d <span class="token keyword">inner</span> <span class="token keyword">join</span> Emp e <span class="token keyword">on</span> d<span class="token punctuation">.</span>id <span class="token operator">=</span> e<span class="token punctuation">.</span>dept
<span class="token keyword">group</span> <span class="token keyword">by</span> d<span class="token punctuation">.</span>id
<span class="token keyword">order</span> <span class="token keyword">by</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+---------+-----------+-------------+-----------+-----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> êµ¬ë¶„    <span class="token operator">|</span> í‰ê· ê¸‰ì—¬  <span class="token operator">|</span> ê¸‰ì—¬í•©ê³„    <span class="token operator">|</span> ìµœì†Œê¸‰ì—¬  <span class="token operator">|</span> ìµœëŒ€ê¸‰ì—¬  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------+-----------+-------------+-----------+-----------+</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€ <span class="token operator">|</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">612</span><span class="token punctuation">,</span><span class="token number">903</span> <span class="token operator">|</span> <span class="token number">286</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€ <span class="token operator">|</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">297</span><span class="token punctuation">,</span><span class="token number">872</span> <span class="token operator">|</span> <span class="token number">249</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€ <span class="token operator">|</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">207</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> ì„œë²„íŒ€  <span class="token operator">|</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">381</span><span class="token punctuation">,</span><span class="token number">818</span> <span class="token operator">|</span> <span class="token number">296</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> í´ë¼íŒ€  <span class="token operator">|</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">647</span><span class="token punctuation">,</span><span class="token number">059</span> <span class="token operator">|</span> <span class="token number">237</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------+-----------+-------------+-----------+-----------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token string">'í‰ê· ê¸‰ì—¬'</span> <span class="token keyword">as</span> <span class="token string">'êµ¬ë¶„'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> dept <span class="token operator">=</span> <span class="token number">3</span> <span class="token keyword">then</span> salary <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'ì˜ì—…1íŒ€'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> dept <span class="token operator">=</span> <span class="token number">4</span> <span class="token keyword">then</span> salary <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'ì˜ì—…2íŒ€'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> dept <span class="token operator">=</span> <span class="token number">5</span> <span class="token keyword">then</span> salary <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'ì˜ì—…3íŒ€'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> dept <span class="token operator">=</span> <span class="token number">6</span> <span class="token keyword">then</span> salary <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'ì„œë²„íŒ€'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> dept <span class="token operator">=</span> <span class="token number">7</span> <span class="token keyword">then</span> salary <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">'í´ë¼íŒ€'</span>
<span class="token keyword">from</span> Emp
<span class="token keyword">UNION</span>
<span class="token keyword">select</span> <span class="token string">'ê¸‰ì—¬í•©ê³„'</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>salary <span class="token operator">*</span> <span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- ë¶€ì„œê°€ 3ì´ë©´ 1ì´ë‹ˆê¹Œ.. ë¶€ì„œê°€ 3ì¸ ì§ì›ì˜ salaryë§Œ ê°€ì ¸ì˜¨ë‹¤</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>salary <span class="token operator">*</span> <span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>salary <span class="token operator">*</span> <span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>salary <span class="token operator">*</span> <span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>salary <span class="token operator">*</span> <span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> Emp
<span class="token keyword">UNION</span>
<span class="token keyword">select</span> <span class="token string">'ìµœì†Œê¸‰ì—¬'</span><span class="token punctuation">,</span>    
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token operator">~</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- ~0: integerì˜ ìµœëŒ“ê°’</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token operator">~</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token operator">~</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token operator">~</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token operator">~</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> Emp
<span class="token keyword">UNION</span>
<span class="token keyword">select</span> <span class="token string">'ìµœëŒ€ê¸‰ì—¬'</span><span class="token punctuation">,</span>    
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">format</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>dept <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> Emp
<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+-------------+-------------+-------------+-------------+</span>
<span class="token operator">|</span> êµ¬ë¶„     <span class="token operator">|</span> ì˜ì—…<span class="token number">1</span>íŒ€     <span class="token operator">|</span> ì˜ì—…<span class="token number">2</span>íŒ€     <span class="token operator">|</span> ì˜ì—…<span class="token number">3</span>íŒ€     <span class="token operator">|</span> ì„œë²„íŒ€      <span class="token operator">|</span> í´ë¼íŒ€      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+-------------+-------------+-------------+-------------+</span>
<span class="token operator">|</span> í‰ê· ê¸‰ì—¬ <span class="token operator">|</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">612</span><span class="token punctuation">,</span><span class="token number">903</span>   <span class="token operator">|</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">297</span><span class="token punctuation">,</span><span class="token number">872</span>   <span class="token operator">|</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">381</span><span class="token punctuation">,</span><span class="token number">818</span>   <span class="token operator">|</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">647</span><span class="token punctuation">,</span><span class="token number">059</span>   <span class="token operator">|</span>
<span class="token operator">|</span> ê¸‰ì—¬í•©ê³„ <span class="token operator">|</span> <span class="token number">286</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">249</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">207</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">296</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span> <span class="token number">237</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">|</span>
<span class="token operator">|</span> ìµœì†Œê¸‰ì—¬ <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span>
<span class="token operator">|</span> ìµœëŒ€ê¸‰ì—¬ <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+-------------+-------------+-------------+-------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h2> <p><a href="https://www.inflearn.com/course/mysql-%EC%A0%9C%EB%8C%80%EB%A1%9C/" target="_blank" rel="noopener noreferrer">inflearn_@ì‹œì½” - MySQL ì œëŒ€ë¡œ ë°°ìš°ê¸°<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://github.com/indiflex/refs/blob/main/mysql/MySQL_Make_SampleData" target="_blank" rel="noopener noreferrer">ê°•ì˜ github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://docs.google.com/presentation/d/1fhtpdjbIPi0fvZbY9TlUKJRqIeqoIsJIzeWCaRktwBI/edit#slide=id.p" target="_blank" rel="noopener noreferrer">ê°•ì˜ slide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://technote.kr/32" target="_blank" rel="noopener noreferrer">mysql ì‚¬ìš©ì<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/8/2024, 5:46:31 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/LECTURE/02typescript_typechain.html" class="prev">
        ğŸˆ Typescriptë¡œ ë¸”ë¡ì²´ì¸ ë§Œë“¤ê¸° (nomad coders/ë…¸ë§ˆë“œì½”ë”)
      </a></span> <span class="next"><a href="/LECTURE/04c_nadocoding.html">
        ğŸˆ C í”„ë¡œê·¸ë˜ë° - ì…ë¬¸ë¶€í„° ê²Œì„ ê°œë°œê¹Œì§€ (inflearn)
      </a>
      â†’
    </span></p></div>  <div id="disqus_thread" class="content" data-v-7d30aa43></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.68345868.js" defer></script><script src="/assets/js/2.3668a181.js" defer></script><script src="/assets/js/3.30344c27.js" defer></script><script src="/assets/js/5.777b19a2.js" defer></script><script src="/assets/js/18.82b9bd8d.js" defer></script>
  </body>
</html>
